!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof n.define&&n.define.amd?define(t):n.Firepad=t()}(0,function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(r=r||{}).utils={},r.utils.makeEventEmitter=function(e,t){e.prototype.allowedEvents_=t,e.prototype.on=function(e,t,n){this.validateEventType_(e),this.eventListeners_=this.eventListeners_||{},this.eventListeners_[e]=this.eventListeners_[e]||[],this.eventListeners_[e].push({callback:t,context:n})},e.prototype.off=function(e,t){this.validateEventType_(e),this.eventListeners_=this.eventListeners_||{};for(var n=this.eventListeners_[e]||[],r=0;r<n.length;r++)if(n[r].callback===t)return void n.splice(r,1)},e.prototype.trigger=function(e){this.eventListeners_=this.eventListeners_||{};for(var t=this.eventListeners_[e]||[],n=0;n<t.length;n++)t[n].callback.apply(t[n].context,Array.prototype.slice.call(arguments,1))},e.prototype.validateEventType_=function(e){if(this.allowedEvents_){for(var t=!1,n=0;n<this.allowedEvents_.length;n++)if(this.allowedEvents_[n]===e){t=!0;break}if(!t)throw new Error('Unknown event "'+e+'"')}}},r.utils.elt=function(e,t,n){var s=document.createElement(e);if("string"==typeof t)r.utils.setTextContent(s,t);else if(t)for(var a=0;a<t.length;++a)s.appendChild(t[a]);for(var o in n||{})s.setAttribute(o,n[o]);return s},r.utils.setTextContent=function(e,t){e.innerHTML="",e.appendChild(document.createTextNode(t))},r.utils.on=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},r.utils.off=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},r.utils.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},r.utils.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},r.utils.stopEvent=function(e){r.utils.preventDefault(e),r.utils.stopPropagation(e)},r.utils.stopEventAnd=function(e){return function(t){return e(t),r.utils.stopEvent(t),!1}},r.utils.trim=function(e){return e.replace(/^\s+/g,"").replace(/\s+$/g,"")},r.utils.stringEndsWith=function(e,t){for(var n="string"==typeof t?[t]:t,r=0;r<n.length;r++){t=n[r];if(-1!==e.indexOf(t,e.length-t.length))return!0}return!1},r.utils.assert=function(e,t){if(!e)throw new Error(t||"assertion error")},r.utils.log=function(){if("undefined"!=typeof console&&void 0!==console.log){for(var e=["Firepad:"],t=0;t<arguments.length;t++)e.push(arguments[t]);console.log.apply(console,e)}},(r=r||{}).Span=function(){function e(e,t){this.pos=e,this.length=t}return e.prototype.end=function(){return this.pos+this.length},e}(),(r=r||{}).TextOp=function(){var e=r.utils;function t(t){this.type=t,this.chars=null,this.text=null,this.attributes=null,"insert"===t?(this.text=arguments[1],e.assert("string"==typeof this.text),this.attributes=arguments[2]||{},e.assert("object"==typeof this.attributes)):"delete"===t?(this.chars=arguments[1],e.assert("number"==typeof this.chars)):"retain"===t&&(this.chars=arguments[1],e.assert("number"==typeof this.chars),this.attributes=arguments[2]||{},e.assert("object"==typeof this.attributes))}return t.prototype.isInsert=function(){return"insert"===this.type},t.prototype.isDelete=function(){return"delete"===this.type},t.prototype.isRetain=function(){return"retain"===this.type},t.prototype.equals=function(e){return this.type===e.type&&this.text===e.text&&this.chars===e.chars&&this.attributesEqual(e.attributes)},t.prototype.attributesEqual=function(e){for(var t in this.attributes)if(this.attributes[t]!==e[t])return!1;for(t in e)if(this.attributes[t]!==e[t])return!1;return!0},t.prototype.hasEmptyAttributes=function(){var e=!0;for(var t in this.attributes){e=!1;break}return e},t}(),(r=r||{}).TextOperation=function(){"use strict";var e=r.TextOp,t=r.utils;function n(){if(!this||this.constructor!==n)return new n;this.ops=[],this.baseLength=0,this.targetLength=0}function s(e){var t=e.ops;switch(t.length){case 1:return t[0];case 2:return t[0].isRetain()?t[1]:t[1].isRetain()?t[0]:null;case 3:if(t[0].isRetain()&&t[2].isRetain())return t[1]}return null}function a(e){return e.ops[0].isRetain()?e.ops[0].chars:0}return n.prototype.equals=function(e){if(this.baseLength!==e.baseLength)return!1;if(this.targetLength!==e.targetLength)return!1;if(this.ops.length!==e.ops.length)return!1;for(var t=0;t<this.ops.length;t++)if(!this.ops[t].equals(e.ops[t]))return!1;return!0},n.prototype.retain=function(t,n){if("number"!=typeof t||t<0)throw new Error("retain expects a positive integer.");if(0===t)return this;this.baseLength+=t,this.targetLength+=t,n=n||{};var r=this.ops.length>0?this.ops[this.ops.length-1]:null;return r&&r.isRetain()&&r.attributesEqual(n)?r.chars+=t:this.ops.push(new e("retain",t,n)),this},n.prototype.insert=function(t,n){if("string"!=typeof t)throw new Error("insert expects a string");if(""===t)return this;n=n||{},this.targetLength+=t.length;var r=this.ops.length>0?this.ops[this.ops.length-1]:null,s=this.ops.length>1?this.ops[this.ops.length-2]:null;return r&&r.isInsert()&&r.attributesEqual(n)?r.text+=t:r&&r.isDelete()?s&&s.isInsert()&&s.attributesEqual(n)?s.text+=t:(this.ops[this.ops.length-1]=new e("insert",t,n),this.ops.push(r)):this.ops.push(new e("insert",t,n)),this},n.prototype.delete=function(t){if("string"==typeof t&&(t=t.length),"number"!=typeof t||t<0)throw new Error("delete expects a positive integer or a string");if(0===t)return this;this.baseLength+=t;var n=this.ops.length>0?this.ops[this.ops.length-1]:null;return n&&n.isDelete()?n.chars+=t:this.ops.push(new e("delete",t)),this},n.prototype.isNoop=function(){return 0===this.ops.length||1===this.ops.length&&this.ops[0].isRetain()&&this.ops[0].hasEmptyAttributes()},n.prototype.clone=function(){for(var e=new n,t=0;t<this.ops.length;t++)this.ops[t].isRetain()?e.retain(this.ops[t].chars,this.ops[t].attributes):this.ops[t].isInsert()?e.insert(this.ops[t].text,this.ops[t].attributes):e.delete(this.ops[t].chars);return e},n.prototype.toString=function(){return(Array.prototype.map||function(e){for(var t=[],n=0,r=this.length;n<r;n++)t[n]=e(this[n]);return t}).call(this.ops,function(e){return e.isRetain()?"retain "+e.chars:e.isInsert()?"insert '"+e.text+"'":"delete "+e.chars}).join(", ")},n.prototype.toJSON=function(){for(var e=[],t=0;t<this.ops.length;t++)this.ops[t].hasEmptyAttributes()||e.push(this.ops[t].attributes),"retain"===this.ops[t].type?e.push(this.ops[t].chars):"insert"===this.ops[t].type?e.push(this.ops[t].text):"delete"===this.ops[t].type&&e.push(-this.ops[t].chars);return 0===e.length&&e.push(0),e},n.fromJSON=function(e){for(var r=new n,s=0,a=e.length;s<a;s++){var o=e[s],i={};"object"==typeof o&&(i=o,o=e[++s]),"number"==typeof o?o>0?r.retain(o,i):r.delete(-o):(t.assert("string"==typeof o),r.insert(o,i))}return r},n.prototype.apply=function(e,n,r){if(n=n||[],r=r||[],e.length!==this.baseLength)throw new Error("The operation's base length must be equal to the string's length.");for(var s,a,o=[],i=0,p=0,l=this.ops,c=0,d=l.length;c<d;c++){var u=l[c];if(u.isRetain()){if(p+u.chars>e.length)throw new Error("Operation can't retain more characters than are left in the string.");for(o[i++]=e.slice(p,p+u.chars),s=0;s<u.chars;s++){var m=n[p+s]||{},h={};for(a in m)h[a]=m[a],t.assert(!1!==h[a]);for(a in u.attributes)!1===u.attributes[a]?delete h[a]:h[a]=u.attributes[a],t.assert(!1!==h[a]);r.push(h)}p+=u.chars}else if(u.isInsert())for(o[i++]=u.text,s=0;s<u.text.length;s++){var f={};for(a in u.attributes)f[a]=u.attributes[a],t.assert(!1!==f[a]);r.push(f)}else p+=u.chars}if(p!==e.length)throw new Error("The operation didn't operate on the whole string.");var g=o.join("");return t.assert(g.length===r.length),g},n.prototype.invert=function(e){for(var t=0,r=new n,s=this.ops,a=0,o=s.length;a<o;a++){var i=s[a];i.isRetain()?(r.retain(i.chars),t+=i.chars):i.isInsert()?r.delete(i.text.length):(r.insert(e.slice(t,t+i.chars)),t+=i.chars)}return r},n.prototype.compose=function(e){if(this.targetLength!==e.baseLength)throw new Error("The base length of the second operation has to be the target length of the first operation");function t(e,t,n){var r,s={};for(r in e)s[r]=e[r];for(r in t)n&&!1===t[r]?delete s[r]:s[r]=t[r];return s}for(var r,s=new n,a=this.clone().ops,o=e.clone().ops,i=0,p=0,l=a[i++],c=o[p++];void 0!==l||void 0!==c;)if(l&&l.isDelete())s.delete(l.chars),l=a[i++];else if(c&&c.isInsert())s.insert(c.text,c.attributes),c=o[p++];else{if(void 0===l)throw new Error("Cannot compose operations: first operation is too short.");if(void 0===c)throw new Error("Cannot compose operations: first operation is too long.");if(l.isRetain()&&c.isRetain())r=t(l.attributes,c.attributes),l.chars>c.chars?(s.retain(c.chars,r),l.chars-=c.chars,c=o[p++]):l.chars===c.chars?(s.retain(l.chars,r),l=a[i++],c=o[p++]):(s.retain(l.chars,r),c.chars-=l.chars,l=a[i++]);else if(l.isInsert()&&c.isDelete())l.text.length>c.chars?(l.text=l.text.slice(c.chars),c=o[p++]):l.text.length===c.chars?(l=a[i++],c=o[p++]):(c.chars-=l.text.length,l=a[i++]);else if(l.isInsert()&&c.isRetain())r=t(l.attributes,c.attributes,!0),l.text.length>c.chars?(s.insert(l.text.slice(0,c.chars),r),l.text=l.text.slice(c.chars),c=o[p++]):l.text.length===c.chars?(s.insert(l.text,r),l=a[i++],c=o[p++]):(s.insert(l.text,r),c.chars-=l.text.length,l=a[i++]);else{if(!l.isRetain()||!c.isDelete())throw new Error("This shouldn't happen: op1: "+JSON.stringify(l)+", op2: "+JSON.stringify(c));l.chars>c.chars?(s.delete(c.chars),l.chars-=c.chars,c=o[p++]):l.chars===c.chars?(s.delete(c.chars),l=a[i++],c=o[p++]):(s.delete(l.chars),c.chars-=l.chars,l=a[i++])}}return s},n.prototype.shouldBeComposedWith=function(e){if(this.isNoop()||e.isNoop())return!0;var t=a(this),n=a(e),r=s(this),o=s(e);return!(!r||!o)&&(r.isInsert()&&o.isInsert()?t+r.text.length===n:!(!r.isDelete()||!o.isDelete())&&(n+o.chars===t||t===n))},n.prototype.shouldBeComposedWithInverted=function(e){if(this.isNoop()||e.isNoop())return!0;var t=a(this),n=a(e),r=s(this),o=s(e);return!(!r||!o)&&(r.isInsert()&&o.isInsert()?t+r.text.length===n||t===n:!(!r.isDelete()||!o.isDelete())&&n+o.chars===t)},n.transformAttributes=function(e,n){var r,s={},a={},o={};for(r in e)o[r]=!0;for(r in n)o[r]=!0;for(r in o){var i=e[r],p=n[r];t.assert(null!=i||null!=p),null==i?a[r]=p:null==p?s[r]=i:i===p||(s[r]=i)}return[s,a]},n.transform=function(e,t){if(e.baseLength!==t.baseLength)throw new Error("Both operations have to have the same base length");for(var r=new n,s=new n,a=e.clone().ops,o=t.clone().ops,i=0,p=0,l=a[i++],c=o[p++];void 0!==l||void 0!==c;)if(l&&l.isInsert())r.insert(l.text,l.attributes),s.retain(l.text.length),l=a[i++];else if(c&&c.isInsert())r.retain(c.text.length),s.insert(c.text,c.attributes),c=o[p++];else{if(void 0===l)throw new Error("Cannot transform operations: first operation is too short.");if(void 0===c)throw new Error("Cannot transform operations: first operation is too long.");var d;if(l.isRetain()&&c.isRetain()){var u=n.transformAttributes(l.attributes,c.attributes);l.chars>c.chars?(d=c.chars,l.chars-=c.chars,c=o[p++]):l.chars===c.chars?(d=c.chars,l=a[i++],c=o[p++]):(d=l.chars,c.chars-=l.chars,l=a[i++]),r.retain(d,u[0]),s.retain(d,u[1])}else if(l.isDelete()&&c.isDelete())l.chars>c.chars?(l.chars-=c.chars,c=o[p++]):l.chars===c.chars?(l=a[i++],c=o[p++]):(c.chars-=l.chars,l=a[i++]);else if(l.isDelete()&&c.isRetain())l.chars>c.chars?(d=c.chars,l.chars-=c.chars,c=o[p++]):l.chars===c.chars?(d=c.chars,l=a[i++],c=o[p++]):(d=l.chars,c.chars-=l.chars,l=a[i++]),r.delete(d);else{if(!l.isRetain()||!c.isDelete())throw new Error("The two operations aren't compatible");l.chars>c.chars?(d=c.chars,l.chars-=c.chars,c=o[p++]):l.chars===c.chars?(d=l.chars,l=a[i++],c=o[p++]):(d=l.chars,c.chars-=l.chars,l=a[i++]),s.delete(d)}}return[r,s]},n.prototype.transform=function(e){return n.transform(this,e)},n}(),(r=r||{}).AnnotationList=function(){var e=r.Span;function t(e,t){if(!e)throw new Error("AnnotationList assertion failed"+(t?": "+t:""))}function n(e,t){this.pos=e,this.length=t.length,this.annotation=t.annotation,this.attachedObject_=t.attachedObject}function s(e,t){this.pos=e,this.length=t.length,this.annotation=t.annotation,this.node_=t}n.prototype.getAttachedObject=function(){return this.attachedObject_},s.prototype.attachObject=function(e){this.node_.attachedObject=e};var a={equals:function(){return!1}};function o(e){this.head_=new i(0,a),this.changeHandler_=e}function i(e,t){this.length=e,this.annotation=t,this.attachedObject=null,this.next=null}return o.prototype.insertAnnotatedSpan=function(n,r){this.wrapOperation_(new e(n.pos,0),function(e,s){t(!s||null===s.next);var o=new i(n.length,r);if(s){t(n.pos>e&&n.pos<e+s.length);var p=new i(0,a);return p.next=new i(n.pos-e,s.annotation),p.next.next=o,o.next=new i(e+s.length-n.pos,s.annotation),p.next}return o})},o.prototype.removeSpan=function(e){0!==e.length&&this.wrapOperation_(e,function(n,r){t(null!==r);var s=new i(0,a),o=s;for(e.pos>n&&(o.next=new i(e.pos-n,r.annotation),o=o.next);e.end()>n+r.length;)n+=r.length,r=r.next;var p=n+r.length-e.end();return p>0&&(o.next=new i(p,r.annotation)),s.next})},o.prototype.updateSpan=function(e,n){0!==e.length&&this.wrapOperation_(e,function(r,s){t(null!==s);var o=new i(0,a),p=o,l=r,c=e.pos-l;for(t(c<s.length),c>0&&(p.next=new i(c,s.annotation),l+=(p=p.next).length);null!==s&&e.end()>=r+s.length;){var d=r+s.length-l;p.next=new i(d,n(s.annotation,d)),p=p.next,r+=s.length,s=s.next,l=r}var u=e.end()-l;return u>0&&(t(u<s.length),p.next=new i(u,n(s.annotation,u)),l+=(p=p.next).length,p.next=new i(r+s.length-l,s.annotation)),o.next})},o.prototype.wrapOperation_=function(e,t){if(e.pos<0)throw new Error("Span start cannot be negative.");var r,a=[],o=[],p=this.getAffectedNodes_(e);null!==p.start?(r=p.end.next,p.end.next=null):r=p.succ;var l=t(p.startPos,p.start),c=!1,d=!1;if(l){var u;for(this.mergeNodesWithSameAnnotations_(l),p.pred&&p.pred.annotation.equals(l.annotation)?(c=!0,l.length+=p.pred.length,p.beforePred.next=l,u=p.predPos):(p.beforeStart.next=l,u=p.startPos);l.next;)o.push(new s(u,l)),u+=l.length,l=l.next;p.succ&&p.succ.annotation.equals(l.annotation)?(l.length+=p.succ.length,d=!0,l.next=p.succ.next):l.next=r,o.push(new s(u,l))}else p.pred&&p.succ&&p.pred.annotation.equals(p.succ.annotation)?(c=!0,d=!0,l=new i(p.pred.length+p.succ.length,p.pred.annotation),p.beforePred.next=l,l.next=p.succ.next,o.push(new s(p.startPos-p.pred.length,l))):p.beforeStart.next=r;c&&a.push(new n(p.predPos,p.pred));for(var m=p.startPos,h=p.start;null!==h;)a.push(new n(m,h)),m+=h.length,h=h.next;d&&a.push(new n(m,p.succ)),this.changeHandler_(a,o)},o.prototype.getAffectedNodes_=function(e){for(var t={},n=null,r=this.head_,s=r.next,a=0;null!==s&&e.pos>=a+s.length;)a+=s.length,n=r,r=s,s=s.next;if(null===s&&(0!==e.length||e.pos!==a))throw new Error("Span start exceeds the bounds of the AnnotationList.");for(t.startPos=a,0===e.length&&e.pos===a?t.start=null:t.start=s,t.beforeStart=r,a===e.pos&&a>0?(t.pred=r,t.predPos=a-r.length,t.beforePred=n):t.pred=null;null!==s&&e.end()>a;)a+=s.length,r=s,s=s.next;if(e.end()>a)throw new Error("Span end exceeds the bounds of the AnnotationList.");return 0===e.length&&e.end()===a?t.end=null:t.end=r,t.succ=a===e.end()?s:null,t},o.prototype.mergeNodesWithSameAnnotations_=function(e){if(e)for(var t=null,n=e;n;)t&&t.annotation.equals(n.annotation)?(t.length+=n.length,t.next=n.next):t=n,n=n.next},o.prototype.forEach=function(e){for(var t=this.head_.next;null!==t;)e(t.length,t.annotation,t.attachedObject),t=t.next},o.prototype.getAnnotatedSpansForPos=function(e){for(var t=0,r=this.head_.next,s=null;null!==r&&t+r.length<=e;)t+=r.length,s=r,r=r.next;if(null===r&&t!==e)throw new Error("pos exceeds the bounds of the AnnotationList");var a=[];return t===e&&s&&a.push(new n(t-s.length,s)),r&&a.push(new n(t,r)),a},o.prototype.getAnnotatedSpansForSpan=function(t){if(0===t.length)return[];for(var n=[],r=this.getAffectedNodes_(t),s=r.startPos,a=r.start;null!==a&&s<t.end();){var o=Math.max(s,t.pos),i=Math.min(s+a.length,t.end()),p=new e(o,i-o);p.annotation=a.annotation,n.push(p),s+=a.length,a=a.next}return n},o.prototype.count=function(){for(var e=0,n=this.head_.next,r=null;null!==n;)r&&t(!r.annotation.equals(n.annotation)),r=n,n=n.next,e++;return e},i.prototype.clone=function(){var e=new i(this.spanLength,this.annotation);return e.next=this.next,e},o}(),(r=r||{}).Cursor=function(){"use strict";function e(e,t){this.position=e,this.selectionEnd=t}return e.fromJSON=function(t){return new e(t.position,t.selectionEnd)},e.prototype.equals=function(e){return this.position===e.position&&this.selectionEnd===e.selectionEnd},e.prototype.compose=function(e){return e},e.prototype.transform=function(t){function n(e){for(var n=e,r=t.ops,s=0,a=t.ops.length;s<a&&(r[s].isRetain()?e-=r[s].chars:r[s].isInsert()?n+=r[s].text.length:(n-=Math.min(e,r[s].chars),e-=r[s].chars),!(e<0));s++);return n}var r=n(this.position);return this.position===this.selectionEnd?new e(r,r):new e(r,n(this.selectionEnd))},e}(),(r=r||{}).FirebaseAdapter=function(e){"undefined"==typeof firebase&&"function"==typeof require&&"function"!=typeof Firebase&&(firebase=require("firebase/app"),require("firebase/database"));var t=r.TextOperation,n=r.utils;function s(e,n,r){this.ref_=e,this.ready_=!1,this.firebaseCallbacks_=[],this.zombie_=!1,this.document_=new t,this.revision_=0,this.pendingReceivedRevisions_={};var s=this;if(n){this.setUserId(n),this.setColor(r);var a=e.root.child(".info/connected");this.firebaseOn_(a,"value",function(e){!0===e.val()&&s.initializeUserData_()},this),this.on("ready",function(){s.monitorCursors_()})}else this.userId_=e.push().key;setTimeout(function(){s.monitorHistory_()},0)}function a(e,t){if(!e)throw new Error(t||"assertion error")}n.makeEventEmitter(s,["ready","cursor","operation","ack","retry"]),s.prototype.dispose=function(){var e=this;this.removeFirebaseCallbacks_(),this.handleInitialRevisions_=(()=>{}),this.ready_?(this.userRef_&&(this.userRef_.child("cursor").remove(),this.userRef_.child("color").remove()),this.ref_=null,this.document_=null,this.zombie_=!0):this.on("ready",function(){e.dispose()})},s.prototype.setUserId=function(e){this.userRef_&&(this.userRef_.child("cursor").remove(),this.userRef_.child("cursor").onDisconnect().cancel(),this.userRef_.child("color").remove(),this.userRef_.child("color").onDisconnect().cancel()),this.userId_=e,this.userRef_=this.ref_.child("users").child(e),this.initializeUserData_()},s.prototype.isHistoryEmpty=function(){return a(this.ready_,"Not ready yet."),0===this.revision_},s.prototype.sendOperation=function(e,t){var r=this;if(this.ready_){a(this.document_.targetLength===e.baseLength,"sendOperation() called with invalid operation.");var s=i(this.revision_);this.sent_={id:s,op:e},function e(s,a){r.ref_.child("history").child(s).transaction(function(e){if(null===e)return a},function(o,i,p){if(o){if("disconnect"!==o.message)throw n.log("Transaction failure!",o),o;r.sent_&&r.sent_.id===s?setTimeout(function(){e(s,a)},0):t&&t(o,!1)}else t&&t(null,i)},!1)}(s,{a:r.userId_,o:e.toJSON(),t:firebase.database.ServerValue.TIMESTAMP})}else this.on("ready",function(){r.trigger("retry")})},s.prototype.sendCursor=function(e){this.userRef_.child("cursor").set(e),this.cursor_=e},s.prototype.setColor=function(e){this.userRef_.child("color").set(e),this.color_=e},s.prototype.getDocument=function(){return this.document_},s.prototype.registerCallbacks=function(e){for(var t in e)this.on(t,e[t])},s.prototype.initializeUserData_=function(){this.userRef_.child("cursor").onDisconnect().remove(),this.userRef_.child("color").onDisconnect().remove(),this.sendCursor(this.cursor_||null),this.setColor(this.color_||null)},s.prototype.monitorCursors_=function(){var e=this.ref_.child("users"),t=this;function n(e){var n=e.key,r=e.val();t.trigger("cursor",n,r.cursor,r.color)}this.firebaseOn_(e,"child_added",n),this.firebaseOn_(e,"child_changed",n),this.firebaseOn_(e,"child_removed",function(e){var n=e.key;t.trigger("cursor",n,null)})},s.prototype.monitorHistory_=function(){var e=this;this.ref_.child("checkpoint").once("value",function(t){if(!e.zombie_){var n=t.child("id").val(),r=t.child("o").val(),s=t.child("a").val();null!=r&&null!=n&&null!==s?(e.pendingReceivedRevisions_[n]={o:r,a:s},e.checkpointRevision_=function(e){a(e.length>0&&e[0]===o[e.length+8]);for(var t=0,n=1;n<e.length;n++)t*=o.length,t+=o.indexOf(e[n]);return t}(n),e.monitorHistoryStartingAt_(e.checkpointRevision_+1)):(e.checkpointRevision_=0,e.monitorHistoryStartingAt_(e.checkpointRevision_))}})},s.prototype.monitorHistoryStartingAt_=function(e){var t=this.ref_.child("history").startAt(null,i(e)),n=this;setTimeout(function(){n.firebaseOn_(t,"child_added",function(e){var t=e.key;n.pendingReceivedRevisions_[t]=e.val(),n.ready_&&n.handlePendingReceivedRevisions_()}),t.once("value",function(){n.handleInitialRevisions_()})},0)},s.prototype.handleInitialRevisions_=function(){a(!this.ready_,"Should not be called multiple times."),this.revision_=this.checkpointRevision_;for(var e=i(this.revision_),t=this.pendingReceivedRevisions_;null!=t[e];){var r=this.parseRevision_(t[e]);r?this.document_=this.document_.compose(r.operation):n.log("Invalid operation.",this.ref_.toString(),e,t[e]),delete t[e],this.revision_++,e=i(this.revision_)}this.trigger("operation",this.document_),this.ready_=!0;var s=this;setTimeout(function(){s.trigger("ready")},0)},s.prototype.handlePendingReceivedRevisions_=function(){for(var e=this.pendingReceivedRevisions_,t=i(this.revision_),r=!1;null!=e[t];){this.revision_++;var s=this.parseRevision_(e[t]);s?(this.document_=this.document_.compose(s.operation),this.sent_&&t===this.sent_.id?this.sent_.op.equals(s.operation)&&s.author===this.userId_?(this.revision_%100==0&&this.saveCheckpoint_(),this.sent_=null,this.trigger("ack")):(r=!0,this.trigger("operation",s.operation)):this.trigger("operation",s.operation)):n.log("Invalid operation.",this.ref_.toString(),t,e[t]),delete e[t],t=i(this.revision_)}r&&(this.sent_=null,this.trigger("retry"))},s.prototype.parseRevision_=function(e){if("object"!=typeof e)return null;if("string"!=typeof e.a||"object"!=typeof e.o)return null;var n=null;try{n=t.fromJSON(e.o)}catch(e){return null}return n.baseLength!==this.document_.targetLength?null:{author:e.a,operation:n}},s.prototype.saveCheckpoint_=function(){this.ref_.child("checkpoint").set({a:this.userId_,o:this.document_.toJSON(),id:i(this.revision_-1)})},s.prototype.firebaseOn_=function(e,t,n,r){return this.firebaseCallbacks_.push({ref:e,eventType:t,callback:n,context:r}),e.on(t,n,r),n},s.prototype.firebaseOff_=function(e,t,n,r){e.off(t,n,r);for(var s=0;s<this.firebaseCallbacks_.length;s++){var a=this.firebaseCallbacks_[s];if(a.ref===e&&a.eventType===t&&a.callback===n&&a.context===r){this.firebaseCallbacks_.splice(s,1);break}}},s.prototype.removeFirebaseCallbacks_=function(){for(var e=0;e<this.firebaseCallbacks_.length;e++){var t=this.firebaseCallbacks_[e];t.ref.off(t.eventType,t.callback,t.context)}this.firebaseCallbacks_=[]};var o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function i(e){if(0===e)return"A0";for(var t="";e>0;){var n=e%o.length;t=o[n]+t,e-=n,e/=o.length}return o[t.length+9]+t}return s}(),(r=r||{}).RichTextToolbar=function(e){var t=r.utils;function n(e){this.imageInsertionUI=e,this.element_=this.makeElement_()}return t.makeEventEmitter(n,["bold","italic","underline","strike","font","font-size","color","left","center","right","unordered-list","ordered-list","todo-list","indent-increase","indent-decrease","undo","redo","insert-image","insert-graph","solve-graph"]),n.prototype.element=function(){return this.element_},n.prototype.makeButton_=function(e,n){var r=this;n=n||e;var s=t.elt("a",[t.elt("span","",{class:"firepad-tb-"+n})],{class:"firepad-btn"});return t.on(s,"click",t.stopEventAnd(function(){r.trigger(e)})),s},n.prototype.makeElement_=function(){var e=this.makeFontDropdown_(),n=this.makeFontSizeDropdown_(),r=this.makeColorDropdown_(),s=[t.elt("div",[e],{class:"firepad-btn-group"}),t.elt("div",[n],{class:"firepad-btn-group"}),t.elt("div",[r],{class:"firepad-btn-group"}),t.elt("div",[this.makeButton_("bold"),this.makeButton_("italic"),this.makeButton_("underline"),this.makeButton_("strike","strikethrough")],{class:"firepad-btn-group"}),t.elt("div",[this.makeButton_("unordered-list","list-2"),this.makeButton_("ordered-list","numbered-list"),this.makeButton_("todo-list","list")],{class:"firepad-btn-group"}),t.elt("div",[this.makeButton_("indent-decrease"),this.makeButton_("indent-increase")],{class:"firepad-btn-group"}),t.elt("div",[this.makeButton_("left","paragraph-left"),this.makeButton_("center","paragraph-center"),this.makeButton_("right","paragraph-right")],{class:"firepad-btn-group"}),t.elt("div",[this.makeButton_("undo"),this.makeButton_("redo")],{class:"firepad-btn-group"}),t.elt("div",[this.makeButton_("insert-graph")],{class:"firepad-btn-group"}),t.elt("div",[this.makeButton_("solve-graph")],{class:"firepad-btn-group"})];this.imageInsertionUI&&s.push(t.elt("div",[this.makeButton_("insert-image")],{class:"firepad-btn-group"}));var a=t.elt("div",s,{class:"firepad-toolbar-wrapper"}),o=t.elt("div",null,{class:"firepad-toolbar"});return o.appendChild(a),o},n.prototype.makeFontDropdown_=function(){for(var e=["Arial","Comic Sans MS","Courier New","Impact","Times New Roman","Verdana"],n=[],r=0;r<e.length;r++){var s=t.elt("span",e[r]);s.setAttribute("style","font-family:"+e[r]),n.push({content:s,value:e[r]})}return this.makeDropdown_("Font","font",n)},n.prototype.makeFontSizeDropdown_=function(){for(var e=[9,10,12,14,18,24,32,42],n=[],r=0;r<e.length;r++){var s=t.elt("span",e[r].toString());s.setAttribute("style","font-size:"+e[r]+"px; line-height:"+(e[r]-6)+"px;"),n.push({content:s,value:e[r]})}return this.makeDropdown_("Size","font-size",n,"px")},n.prototype.makeColorDropdown_=function(){for(var e=["black","red","green","blue","yellow","cyan","magenta","grey"],n=[],r=0;r<e.length;r++){var s=t.elt("div");s.className="firepad-color-dropdown-item",s.setAttribute("style","background-color:"+e[r]),n.push({content:s,value:e[r]})}return this.makeDropdown_("Color","color",n)},n.prototype.makeDropdown_=function(e,n,r,s){s=s||"";var a=this,o=t.elt("a",e+" ▾",{class:"firepad-btn firepad-dropdown"}),i=t.elt("ul",[],{class:"firepad-dropdown-menu"});o.appendChild(i);var p=!1;var l=!1;function c(){p&&(i.style.display="",t.off(document,"click",c,!0),p=!1),l=!0,setTimeout(function(){l=!1},0)}function d(e,r){"object"!=typeof e&&(e=document.createTextNode(String(e)));var o=t.elt("a",[e]);t.on(o,"click",t.stopEventAnd(function(){c(),a.trigger(n,r+s)})),i.appendChild(o)}for(var u=0;u<r.length;u++){d(r[u].content,r[u].value)}return t.on(o,"click",t.stopEventAnd(function(){l||p||(i.style.display="block",t.on(document,"click",c,!0),p=!0)})),o},n}(),(r=r||{}).WrappedOperation=function(e){"use strict";function t(e,t){this.wrapped=e,this.meta=t}function n(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function r(e,t){return e&&"object"==typeof e&&"function"==typeof e.transform?e.transform(t):e}return t.prototype.apply=function(){return this.wrapped.apply.apply(this.wrapped,arguments)},t.prototype.invert=function(){var e=this.meta;return new t(this.wrapped.invert.apply(this.wrapped,arguments),e&&"object"==typeof e&&"function"==typeof e.invert?e.invert.apply(e,arguments):e)},t.prototype.compose=function(e){return new t(this.wrapped.compose(e.wrapped),function(e,t){if(e&&"object"==typeof e){if("function"==typeof e.compose)return e.compose(t);var r={};return n(e,r),n(t,r),r}return t}(this.meta,e.meta))},t.transform=function(e,n){var s=e.wrapped.transform(n.wrapped);return[new t(s[0],r(e.meta,n.wrapped)),new t(s[1],r(n.meta,e.wrapped))]},t.prototype.transform=function(e){return t.transform(this,e)},t}(),(r=r||{}).UndoManager=function(){"use strict";var e="normal";function t(t){this.maxItems=t||50,this.state=e,this.dontCompose=!1,this.undoStack=[],this.redoStack=[]}function n(e,t){for(var n=[],r=t.constructor,s=e.length-1;s>=0;s--){var a=r.transform(e[s],t);"function"==typeof a[0].isNoop&&a[0].isNoop()||n.push(a[0]),t=a[1]}return n.reverse()}return t.prototype.add=function(e,t){if("undoing"===this.state)this.redoStack.push(e),this.dontCompose=!0;else if("redoing"===this.state)this.undoStack.push(e),this.dontCompose=!0;else{var n=this.undoStack;!this.dontCompose&&t&&n.length>0?n.push(e.compose(n.pop())):(n.push(e),n.length>this.maxItems&&n.shift()),this.dontCompose=!1,this.redoStack=[]}},t.prototype.transform=function(e){this.undoStack=n(this.undoStack,e),this.redoStack=n(this.redoStack,e)},t.prototype.performUndo=function(t){if(this.state="undoing",0===this.undoStack.length)throw new Error("undo not possible");t(this.undoStack.pop()),this.state=e},t.prototype.performRedo=function(t){if(this.state="redoing",0===this.redoStack.length)throw new Error("redo not possible");t(this.redoStack.pop()),this.state=e},t.prototype.canUndo=function(){return 0!==this.undoStack.length},t.prototype.canRedo=function(){return 0!==this.redoStack.length},t.prototype.isUndoing=function(){return"undoing"===this.state},t.prototype.isRedoing=function(){return"redoing"===this.state},t}(),(r=r||{}).Client=function(){"use strict";function e(){this.state=n}function t(){}e.prototype.setState=function(e){this.state=e},e.prototype.applyClient=function(e){this.setState(this.state.applyClient(this,e))},e.prototype.applyServer=function(e){this.setState(this.state.applyServer(this,e))},e.prototype.serverAck=function(){this.setState(this.state.serverAck(this))},e.prototype.serverRetry=function(){this.setState(this.state.serverRetry(this))},e.prototype.sendOperation=function(e){throw new Error("sendOperation must be defined in child class")},e.prototype.applyOperation=function(e){throw new Error("applyOperation must be defined in child class")},e.Synchronized=t,t.prototype.applyClient=function(e,t){return e.sendOperation(t),new r(t)},t.prototype.applyServer=function(e,t){return e.applyOperation(t),this},t.prototype.serverAck=function(e){throw new Error("There is no pending operation.")},t.prototype.serverRetry=function(e){throw new Error("There is no pending operation.")};var n=new t;function r(e){this.outstanding=e}function s(e,t){this.outstanding=e,this.buffer=t}return e.AwaitingConfirm=r,r.prototype.applyClient=function(e,t){return new s(this.outstanding,t)},r.prototype.applyServer=function(e,t){var n=this.outstanding.transform(t);return e.applyOperation(n[1]),new r(n[0])},r.prototype.serverAck=function(e){return n},r.prototype.serverRetry=function(e){return e.sendOperation(this.outstanding),this},e.AwaitingWithBuffer=s,s.prototype.applyClient=function(e,t){var n=this.buffer.compose(t);return new s(this.outstanding,n)},s.prototype.applyServer=function(e,t){var n=this.outstanding.transform(t),r=this.buffer.transform(n[1]);return e.applyOperation(r[1]),new s(n[0],r[0])},s.prototype.serverRetry=function(e){var t=this.outstanding.compose(this.buffer);return e.sendOperation(t),new r(t)},s.prototype.serverAck=function(e){return e.sendOperation(this.buffer),new r(this.buffer)},e}(),(r=r||{}).EditorClient=function(){"use strict";var e=r.Client,t=r.Cursor,n=r.UndoManager,s=r.WrappedOperation;function a(e,t){this.cursorBefore=e,this.cursorAfter=t}function o(e,t){this.id=e,this.editorAdapter=t}function i(r,s){e.call(this),this.serverAdapter=r,this.editorAdapter=s,this.undoManager=new n,this.clients={};var a=this;this.editorAdapter.registerCallbacks({change:function(e,t){a.onChange(e,t)},cursorActivity:function(){a.onCursorActivity()},blur:function(){a.onBlur()},focus:function(){a.onFocus()}}),this.editorAdapter.registerUndo(function(){a.undo()}),this.editorAdapter.registerRedo(function(){a.redo()}),this.serverAdapter.registerCallbacks({ack:function(){a.serverAck(),a.focused&&a.state instanceof e.Synchronized&&(a.updateCursor(),a.sendCursor(a.cursor)),a.emitStatus()},retry:function(){a.serverRetry()},operation:function(e){a.applyServer(e)},cursor:function(n,r,s){if(a.serverAdapter.userId_!==n&&a.state instanceof e.Synchronized){var o=a.getClientObject(n);r?(s&&o.setColor(s),o.updateCursor(t.fromJSON(r))):o.removeCursor()}}})}return a.prototype.invert=function(){return new a(this.cursorAfter,this.cursorBefore)},a.prototype.compose=function(e){return new a(this.cursorBefore,e.cursorAfter)},a.prototype.transform=function(e){return new a(this.cursorBefore?this.cursorBefore.transform(e):null,this.cursorAfter?this.cursorAfter.transform(e):null)},o.prototype.setColor=function(e){this.color=e},o.prototype.updateCursor=function(e){this.removeCursor(),this.cursor=e,this.mark=this.editorAdapter.setOtherCursor(e,this.color,this.id)},o.prototype.removeCursor=function(){this.mark&&this.mark.clear()},function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}(i,e),i.prototype.getClientObject=function(e){var t=this.clients[e];return t||(this.clients[e]=new o(e,this.editorAdapter))},i.prototype.applyUnredo=function(e){this.undoManager.add(this.editorAdapter.invertOperation(e)),this.editorAdapter.applyOperation(e.wrapped),this.cursor=e.meta.cursorAfter,this.cursor&&this.editorAdapter.setCursor(this.cursor),this.applyClient(e.wrapped)},i.prototype.undo=function(){var e=this;this.undoManager.canUndo()&&this.undoManager.performUndo(function(t){e.applyUnredo(t)})},i.prototype.redo=function(){var e=this;this.undoManager.canRedo()&&this.undoManager.performRedo(function(t){e.applyUnredo(t)})},i.prototype.onChange=function(e,t){var n=this.cursor;this.updateCursor();var r,o=this.undoManager.undoStack.length>0&&t.shouldBeComposedWithInverted((r=this.undoManager.undoStack,r[r.length-1]).wrapped),i=new a(this.cursor,n);this.undoManager.add(new s(t,i),o),this.applyClient(e)},i.prototype.updateCursor=function(){this.cursor=this.editorAdapter.getCursor()},i.prototype.onCursorActivity=function(){var e=this.cursor;this.updateCursor(),!this.focused||e&&this.cursor.equals(e)||this.sendCursor(this.cursor)},i.prototype.onBlur=function(){this.cursor=null,this.sendCursor(null),this.focused=!1},i.prototype.onFocus=function(){this.focused=!0,this.onCursorActivity()},i.prototype.sendCursor=function(t){this.state instanceof e.AwaitingWithBuffer||this.serverAdapter.sendCursor(t)},i.prototype.sendOperation=function(e){this.serverAdapter.sendOperation(e),this.emitStatus()},i.prototype.applyOperation=function(e){this.editorAdapter.applyOperation(e),this.updateCursor(),this.undoManager.transform(new s(e,null))},i.prototype.emitStatus=function(){var t=this;setTimeout(function(){t.trigger("synced",t.state instanceof e.Synchronized)},0)},i}(),r.utils.makeEventEmitter(r.EditorClient,["synced"]),void 0!==r&&null!==r||(r={}),r.ACEAdapter=function(){var t=function(){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.onChange=this.onChange.bind(this),this.onBlur=this.onBlur.bind(this),this.onFocus=this.onFocus.bind(this),this.onCursorActivity=this.onCursorActivity.bind(this),this.ace=e,this.aceSession=this.ace.getSession(),this.aceDoc=this.aceSession.getDocument(),this.aceDoc.setNewLineMode("unix"),this.grabDocumentState(),this.ace.on("change",this.onChange),this.ace.on("blur",this.onBlur),this.ace.on("focus",this.onFocus),this.aceSession.selection.on("changeCursor",this.onCursorActivity),null==this.aceRange&&(this.aceRange=(null!=(n=ace.require)?n:require)("ace/range").Range)}var s,a,o;return s=t,(a=[{key:"grabDocumentState",value:function(){return this.lastDocLines=this.aceDoc.getAllLines(),this.lastCursorRange=this.aceSession.selection.getRange()}},{key:"detach",value:function(){return this.ace.removeListener("change",this.onChange),this.ace.removeListener("blur",this.onBlur),this.ace.removeListener("focus",this.onFocus),this.aceSession.selection.removeListener("changeCursor",this.onCursorActivity)}},{key:"onChange",value:function(t){var n;if(!this.ignoreChanges)return n=this.operationFromACEChange(t),this.trigger.apply(this,["change"].concat(e(n))),this.grabDocumentState()}},{key:"onBlur",value:function(){if(this.ace.selection.isEmpty())return this.trigger("blur")}},{key:"onFocus",value:function(){return this.trigger("focus")}},{key:"onCursorActivity",value:function(){var e=this;return setTimeout(function(){return e.trigger("cursorActivity")},0)}},{key:"operationFromACEChange",value:function(e){var t,n,s,a,o,i,p;return e.data?("insertLines"===(a=(n=e.data).action)||"removeLines"===a?(p=n.lines.join("\n")+"\n",n.action.replace("Lines","")):(p=n.text.replace(this.aceDoc.getNewLineCharacter(),"\n"),n.action.replace("Text","")),i=this.indexFromPos(n.range.start)):(p=e.lines.join("\n"),i=this.indexFromPos(e.start)),o=this.lastDocLines.join("\n").length-i,"remove"===e.action&&(o-=p.length),s=(new r.TextOperation).retain(i).insert(p).retain(o),t=(new r.TextOperation).retain(i).delete(p).retain(o),"remove"===e.action?[t,s]:[s,t]}},{key:"applyOperationToACE",value:function(e){var t,n,r,s,a,o,i,p;for(n=0,r=0,s=(i=e.ops).length;r<s;r++)(a=i[r]).isRetain()?n+=a.chars:a.isInsert()?(this.aceDoc.insert(this.posFromIndex(n),a.text),n+=a.text.length):a.isDelete()&&(t=this.posFromIndex(n),p=this.posFromIndex(n+a.chars),o=this.aceRange.fromPoints(t,p),this.aceDoc.remove(o));return this.grabDocumentState()}},{key:"posFromIndex",value:function(e){var t,n,r,s,a;for(a=t=0,n=(s=this.aceDoc.$lines).length;t<n&&!(e<=(r=s[a]).length);a=++t)e-=r.length+1;return{row:a,column:e}}},{key:"indexFromPos",value:function(e,t){var n,r,s,a;for(null==t&&(t=this.lastDocLines),r=0,n=s=0,a=e.row;0<=a?s<a:s>a;n=0<=a?++s:--s)r+=this.lastDocLines[n].length+1;return r+e.column}},{key:"getValue",value:function(){return this.aceDoc.getValue()}},{key:"getCursor",value:function(){var e,t,n;try{n=this.indexFromPos(this.aceSession.selection.getRange().start,this.aceDoc.$lines),t=this.indexFromPos(this.aceSession.selection.getRange().end,this.aceDoc.$lines)}catch(r){r;try{n=this.indexFromPos(this.lastCursorRange.start),t=this.indexFromPos(this.lastCursorRange.end)}catch(r){e=r,console.log("Couldn't figure out the cursor range:",e,"-- setting it to 0:0."),n=0,t=0}}if(n>t){var s=[t,n];n=s[0],t=s[1]}return new r.Cursor(n,t)}},{key:"setCursor",value:function(e){var t,n;if(n=this.posFromIndex(e.position),t=this.posFromIndex(e.selectionEnd),e.position>e.selectionEnd){var r=[t,n];n=r[0],t=r[1]}return this.aceSession.selection.setSelectionRange(new this.aceRange(n.row,n.column,t.row,t.column))}},{key:"setOtherCursor",value:function(e,t,n){var r,s,a,o,i,p,l,c=this;if(null==this.otherCursors&&(this.otherCursors={}),(a=this.otherCursors[n])&&(a.start.detach(),a.end.detach(),this.aceSession.removeMarker(a.id)),l=this.posFromIndex(e.position),o=this.posFromIndex(e.selectionEnd),e.selectionEnd<e.position){var d=[o,l];l=d[0],o=d[1]}return r="other-client-selection-".concat(t.replace("#","")),(i=e.position===e.selectionEnd)&&(r=r.replace("selection","cursor")),s=".".concat(r," {\n  position: absolute;\n  background-color: ").concat(i?"transparent":t,";\n  border-left: 2px solid ").concat(t,";\n}"),this.addStyleRule(s),this.otherCursors[n]=a=new this.aceRange(l.row,l.column,o.row,o.column),p=this,a.clipRows=function(){var e;return(e=p.aceRange.prototype.clipRows.apply(this,arguments)).isEmpty=function(){return!1},e},a.start=this.aceDoc.createAnchor(a.start),a.end=this.aceDoc.createAnchor(a.end),a.id=this.aceSession.addMarker(a,r,"text"),{clear:function(){return a.start.detach(),a.end.detach(),c.aceSession.removeMarker(a.id)}}}},{key:"addStyleRule",value:function(e){var t;if("undefined"!=typeof document&&null!==document&&(this.addedStyleRules||(this.addedStyleRules={},t=document.createElement("style"),document.documentElement.getElementsByTagName("head")[0].appendChild(t),this.addedStyleSheet=t.sheet),!this.addedStyleRules[e]))return this.addedStyleRules[e]=!0,this.addedStyleSheet.insertRule(e,0)}},{key:"registerCallbacks",value:function(e){this.callbacks=e}},{key:"trigger",value:function(e){for(var t,n,r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return null!=(t=this.callbacks)&&null!=(n=t[e])?n.apply(this,s):void 0}},{key:"applyOperation",value:function(e){return e.isNoop()||(this.ignoreChanges=!0),this.applyOperationToACE(e),this.ignoreChanges=!1}},{key:"registerUndo",value:function(e){return this.ace.undo=e}},{key:"registerRedo",value:function(e){return this.ace.redo=e}},{key:"invertOperation",value:function(e){return e.invert(this.getValue())}}])&&n(s.prototype,a),o&&n(s,o),t}();return t.prototype.ignoreChanges=!1,t}.call(void 0);var r,s=function(e,t,n){return"."+e+" {\n  position: relative;\nbackground-color: "+t+";\nborder-left: 2px solid "+n+";\n}"},a=function(e,t){if("undefined"==typeof document||null===document)return!1;if(-1===this.addedStyleRules.indexOf(e)){var n=document.createElement("style"),r=document.createTextNode(t);n.appendChild(r),document.head.appendChild(n),this.addedStyleRules.push(e)}},o=function(){function e(e){if(!e||"function"!=typeof e.getModel)throw new Error("MonacoAdapter: Incorrect Parameter Recieved in constructor, expected valid Monaco Instance");this.monaco=e,this.monacoModel=this.monaco.getModel(),this.lastDocLines=this.monacoModel.getLinesContent(),this.lastCursorRange=this.monaco.getSelection(),this.callbacks={},this.otherCursors=[],this.addedStyleRules=[],this.ignoreChanges=!1,this.onChange=this.onChange.bind(this),this.onBlur=this.onBlur.bind(this),this.onFocus=this.onFocus.bind(this),this.onCursorActivity=this.onCursorActivity.bind(this),this.changeHandler=this.monaco.onDidChangeModelContent(this.onChange),this.didBlurHandler=this.monaco.onDidBlurEditorWidget(this.onBlur),this.didFocusHandler=this.monaco.onDidFocusEditorWidget(this.onFocus),this.didChangeCursorPositionHandler=this.monaco.onDidChangeCursorPosition(this.onCursorActivity)}return e.prototype.detach=function(){this.changeHandler.dispose(),this.didBlurHandler.dispose(),this.didFocusHandler.dispose(),this.didChangeCursorPositionHandler.dispose()},e.prototype.getCursor=function(){var e=this.monaco.getSelection();void 0!==e&&null!==e||(e=this.lastCursorRange);var t=e.getStartPosition(),n=e.getEndPosition(),s=this.monacoModel.getOffsetAt(t),a=this.monacoModel.getOffsetAt(n);if(s>a){var o=[a,s];s=o[0],a=o[1]}return new r.Cursor(s,a)},e.prototype.setCursor=function(e){var t=e.position,n=e.selectionEnd,r=this.monacoModel.getPositionAt(t),s=this.monacoModel.getPositionAt(n);if(t>n){var a=[s,r];r=a[0],s=a[1]}this.monaco.setSelection(new monaco.Range(r.lineNumber,r.column,s.lineNumber,s.column))},e.prototype.setOtherCursor=function(e,t,n){if("object"!=typeof e||"number"!=typeof e.position||"number"!=typeof e.selectionEnd)return!1;if("string"!=typeof t||!t.match(/^#[a-fA-F0-9]{3,6}$/))return!1;var r=e.position,o=e.selectionEnd;if(r<0||o<0)return!1;var i=this.otherCursors.find(function(e){return e.clientID===n});i||(i={clientID:n,decoration:[]},this.otherCursors.push(i)),i.decoration=this.monaco.deltaDecorations(i.decoration,[]);var p,l,c="other-client-selection-"+t.replace("#","");r===o?(c=c.replace("selection","cursor"),p=s(c,"transparent",t),l=a.call(this,c,p)):(p=s(c,t,t),l=a.call(this,c,p)),0==l&&console.log("Monaco Adapter: Failed to add some css style.\nPlease make sure you're running on supported environment.");var d=this.monacoModel.getPositionAt(r),u=this.monacoModel.getPositionAt(o);if(r>o){var m=[u,d];d=m[0],u=m[1]}i.decoration=this.monaco.deltaDecorations(i.decoration,[{range:new monaco.Range(d.lineNumber,d.column,u.lineNumber,u.column),options:{className:c}}]);var h=this;return{clear:function(){i.decoration=h.monaco.deltaDecorations(i.decoration,[])}}},e.prototype.registerCallbacks=function(e){this.callbacks=Object.assign({},this.callbacks,e)},e.prototype.registerUndo=function(e){if("function"!=typeof e)throw new Error("MonacoAdapter: registerUndo method expects a callback function in parameter");this.callbacks.undo=e},e.prototype.registerRedo=function(e){if("function"!=typeof e)throw new Error("MonacoAdapter: registerRedo method expects a callback function in parameter");this.callbacks.redo=e},e.prototype.operationFromMonacoChanges=function(e,t,n){var s,a,o,i=e.text,p=e.rangeLength,l=e.rangeOffset,c=t.length+n-l;return 0===i.length&&p>0?(o=t.slice(l,l+p),s=(new r.TextOperation).retain(l).delete(p).retain(c-p),a=(new r.TextOperation).retain(l).insert(o).retain(c-p)):i.length>0&&p>0?(o=t.slice(l,l+p),s=(new r.TextOperation).retain(l).delete(p).insert(i).retain(c-p),a=(new r.TextOperation).retain(l).delete(i.length).insert(o).retain(c-p)):(s=(new r.TextOperation).retain(l).insert(i).retain(c),a=(new r.TextOperation).retain(l).delete(i).retain(c)),[s,a]},e.prototype.onChange=function(e){var t=this;if(!this.ignoreChanges){var n=this.lastDocLines.join(this.monacoModel.getEOL()),s=0;if(!e.changes){var a=(new r.TextOperation).retain(n.length);this.trigger("change",a,a)}e.changes.forEach(function(e){var r=t.operationFromMonacoChanges(e,n,s);s+=r[0].targetLength-r[0].baseLength,t.trigger.apply(t,["change"].concat(r))}),this.lastDocLines=this.monacoModel.getLinesContent()}},e.prototype.trigger=function(e){if(this.callbacks.hasOwnProperty(e)){var t=this.callbacks[e];0;var n=[];if(arguments.length>1)for(var r=1;r<arguments.length;r++)n.push(arguments[r]);t.apply(null,n)}},e.prototype.onBlur=function(){this.monaco.getSelection().isEmpty()&&this.trigger("blur")},e.prototype.onFocus=function(){this.trigger("focus")},e.prototype.onCursorActivity=function(){var e=this;setTimeout(function(){return e.trigger("cursorActivity")},1)},e.prototype.applyOperation=function(e){e.isNoop()||(this.ignoreChanges=!0);var t=0,n=this;e.ops.forEach(function(e){if(e.isRetain())t+=e.chars;else if(e.isInsert()){var r=n.monacoModel.getPositionAt(t);n.monaco.executeEdits("my-source",[{range:new monaco.Range(r.lineNumber,r.column,r.lineNumber,r.column),text:e.text,forceMoveMarkers:!0}]),t+=e.text.length}else if(e.isDelete()){var s=n.monacoModel.getPositionAt(t),a=n.monacoModel.getPositionAt(t+e.chars);n.monaco.executeEdits("my-source",[{range:new monaco.Range(s.lineNumber,s.column,a.lineNumber,a.column),text:"",forceMoveMarkers:!0}])}}),this.lastDocLines=this.monacoModel.getLinesContent(),this.ignoreChanges=!1},e.prototype.invertOperation=function(e){e.invert(this.getValue())},e}();r.MonacoAdapter=o,(r=r||{}).AttributeConstants={BOLD:"b",ITALIC:"i",UNDERLINE:"u",STRIKE:"s",FONT:"f",FONT_SIZE:"fs",COLOR:"c",BACKGROUND_COLOR:"bc",ENTITY_SENTINEL:"ent",LINE_SENTINEL:"l",LINE_INDENT:"li",LINE_ALIGN:"la",LIST_TYPE:"lt"},r.sentinelConstants={LINE_SENTINEL_CHARACTER:"",ENTITY_SENTINEL_CHARACTER:""},(r=r||{}).EntityManager=function(){var e=r.utils;function t(){this.entities_={};var t=["src","alt","width","height","style","class"];this.register("img",{render:function(t){e.assert(t.src,"image entity should have 'src'!");for(var n=["src","alt","width","height","style","class"],r="<img ",s=0;s<n.length;s++){var a=n[s];a in t&&(r+=" "+a+'="'+t[a]+'"')}return r+=">"},fromElement:function(e){for(var n={},r=0;r<t.length;r++){var s=t[r];e.hasAttribute(s)&&(n[s]=e.getAttribute(s))}return n}})}return t.prototype.register=function(e,t){r.utils.assert(t.render,"Entity options should include a 'render' function!"),r.utils.assert(t.fromElement,"Entity options should include a 'fromElement' function!"),this.entities_[e]=t},t.prototype.renderToElement=function(e,t){return this.tryRenderToElement_(e,"render",t)},t.prototype.exportToElement=function(e){var t=this.tryRenderToElement_(e,"export")||this.tryRenderToElement_(e,"getHtml")||this.tryRenderToElement_(e,"render");return t.setAttribute("data-firepad-entity",e.type),t},t.prototype.updateElement=function(e,t){var n=e.type,r=e.info;this.entities_[n]&&void 0!==this.entities_[n].update&&this.entities_[n].update(r,t)},t.prototype.fromElement=function(e){var t=e.getAttribute("data-firepad-entity");if(t||(t=e.nodeName.toLowerCase()),t&&this.entities_[t]){var n=this.entities_[t].fromElement(e);return new r.Entity(t,n)}},t.prototype.tryRenderToElement_=function(e,t,n){var s=e.type,a=e.info;if(this.entities_[s]&&this.entities_[s][t]){var o=r.document||window&&window.document,i=this.entities_[s][t](a,n,o);if(i){if("string"==typeof i){var p=(r.document||document).createElement("div");return p.innerHTML=i,p.childNodes[0]}if("object"==typeof i)return r.utils.assert(void 0!==i.nodeType,"Error rendering "+s+" entity.  render() function must return an html string or a DOM element."),i}}},t.prototype.entitySupportsUpdate=function(e){return this.entities_[e]&&this.entities_[e].update},t}(),(r=r||{}).Entity=function(){var e=r.AttributeConstants.ENTITY_SENTINEL,t=e+"_";function n(e,t){if(!(this instanceof n))return new n(e,t);this.type=e,this.info=t||{}}return n.prototype.toAttributes=function(){var n={};for(var r in n[e]=this.type,this.info)n[t+r]=this.info[r];return n},n.fromAttributes=function(r){var s=r[e],a={};for(var o in r)0===o.indexOf(t)&&(a[o.substr(t.length)]=r[o]);return new n(s,a)},n}(),(r=r||{}).RichTextCodeMirror=function(){var e=r.AnnotationList,t=r.Span,n=r.utils,s=r.AttributeConstants,a={c:"color",bc:"background-color",fs:"font-size",li:function(e){return"padding-left: "+40*e+"px"}},o={};function i(t,n,r){this.codeMirror=t,this.options_=r||{},this.entityManager_=n,this.currentAttributes_=null;var s=this;this.annotationList_=new e(function(e,t){s.onAnnotationsChanged_(e,t)}),this.initAnnotationList_(),h(this,"onCodeMirrorBeforeChange_"),h(this,"onCodeMirrorChange_"),h(this,"onCursorActivity_"),parseInt(CodeMirror.version)>=4?this.codeMirror.on("changes",this.onCodeMirrorChange_):this.codeMirror.on("change",this.onCodeMirrorChange_),this.codeMirror.on("beforeChange",this.onCodeMirrorBeforeChange_),this.codeMirror.on("cursorActivity",this.onCursorActivity_),this.changeId_=0,this.outstandingChanges_={},this.dirtyLines_=[]}n.makeEventEmitter(i,["change","attributesChange","newLine"]);var p=r.sentinelConstants.LINE_SENTINEL_CHARACTER,l=r.sentinelConstants.ENTITY_SENTINEL_CHARACTER;function c(e,t){return e.line-t.line||e.ch-t.ch}function d(e,t){return c(e,t)<=0}function u(e){if(0===e.length)return 0;for(var t=0,n=0;n<e.length;n++)t+=e[n].length;return t+e.length-1}function m(e){this.attributes=e||{}}function h(e,t){var n=e[t];e[t]=function(){n.apply(e,arguments)}}return i.prototype.detach=function(){this.codeMirror.off("beforeChange",this.onCodeMirrorBeforeChange_),this.codeMirror.off("change",this.onCodeMirrorChange_),this.codeMirror.off("changes",this.onCodeMirrorChange_),this.codeMirror.off("cursorActivity",this.onCursorActivity_),this.clearAnnotations_()},i.prototype.toggleAttribute=function(e,t){var n=t||!0;if(this.emptySelection_()){var r=this.getCurrentAttributes_();r[e]===n?delete r[e]:r[e]=n,this.currentAttributes_=r}else{var s=this.getCurrentAttributes_()[e]!==n&&n;this.setAttribute(e,s)}},i.prototype.setAttribute=function(e,t){var n=this.codeMirror;if(this.emptySelection_()){var r=this.getCurrentAttributes_();!1===t?delete r[e]:r[e]=t,this.currentAttributes_=r}else this.updateTextAttributes(n.indexFromPos(n.getCursor("start")),n.indexFromPos(n.getCursor("end")),function(n){!1===t?delete n[e]:n[e]=t}),this.updateCurrentAttributes_()},i.prototype.updateTextAttributes=function(e,n,r,a,o){var i=[],p=e,l=this;this.annotationList_.updateSpan(new t(e,n-e),function(e,t){var n={};for(var c in e.attributes)n[c]=e.attributes[c];n[s.LINE_SENTINEL]&&!o||r(n);var d={},u={};return l.computeChangedAttributes_(e.attributes,n,d,u),function(e){for(var t in e)return!1;return!0}(d)||i.push({start:p,end:p+t,attributes:d,attributesInverse:u,origin:a}),p+=t,new m(n)}),i.length>0&&this.trigger("attributesChange",this,i)},i.prototype.computeChangedAttributes_=function(e,t,n,r){var s,a={};for(s in e)a[s]=!0;for(s in t)a[s]=!0;for(s in a)s in t?s in e?e[s]!==t[s]&&(n[s]=t[s],r[s]=e[s]):(n[s]=t[s],r[s]=!1):(n[s]=!1,r[s]=e[s])},i.prototype.toggleLineAttribute=function(e,t){var n,r=this.getCurrentLineAttributes_();n=!(e in r&&r[e]===t)&&t,this.setLineAttribute(e,n)},i.prototype.setLineAttribute=function(e,t){this.updateLineAttributesForSelection(function(n){!1===t?delete n[e]:n[e]=t})},i.prototype.updateLineAttributesForSelection=function(e){var t=this.codeMirror,n=t.getCursor("start"),r=t.getCursor("end"),s=n.line,a=r.line,o=t.getLine(a),i=this.areLineSentinelCharacters_(o.substr(0,r.ch));a>s&&i&&a--,this.updateLineAttributes(s,a,e)},i.prototype.updateLineAttributes=function(e,t,n){for(var r=e;r<=t;r++){var a=this.codeMirror.getLine(r),o=this.codeMirror.indexFromPos({line:r,ch:0});if(a[0]!==p){var i={};i[s.LINE_SENTINEL]=!0,n(i),this.insertText(o,p,i)}else this.updateTextAttributes(o,o+1,n,null,!0)}},i.prototype.replaceText=function(e,t,n,r,s){this.changeId_++;var a="cmrt-"+this.changeId_;this.outstandingChanges_[a]={origOrigin:s,attributes:r};var o=this.codeMirror,i=o.posFromIndex(e),p="number"==typeof t?o.posFromIndex(t):null;o.replaceRange(n,i,p,a)},i.prototype.insertText=function(e,t,n,r){var s=this.codeMirror,a=s.getCursor(),o="RTCMADAPTER"==r&&!s.somethingSelected()&&e==s.indexFromPos(a);this.replaceText(e,null,t,n,r),o&&s.setCursor(a)},i.prototype.removeText=function(e,t,n){var r=this.codeMirror;r.replaceRange("",r.posFromIndex(e),r.posFromIndex(t),n)},i.prototype.insertEntityAtCursor=function(e,t,n){var r=this.codeMirror,s=r.indexFromPos(r.getCursor("head"));this.insertEntityAt(s,e,t,n)},i.prototype.insertEntityAt=function(e,t,n,s){this.codeMirror;this.insertEntity_(e,new r.Entity(t,n),s)},i.prototype.insertEntity_=function(e,t,n){this.replaceText(e,null,l,t.toAttributes(),n)},i.prototype.getAttributeSpans=function(e,n){for(var r=[],s=this.annotationList_.getAnnotatedSpansForSpan(new t(e,n-e)),a=0;a<s.length;a++)r.push({length:s[a].length,attributes:s[a].annotation.attributes});return r},i.prototype.end=function(){var e=this.codeMirror.lineCount()-1;return this.codeMirror.indexFromPos({line:e,ch:this.codeMirror.getLine(e).length})},i.prototype.getRange=function(e,t){var n=this.codeMirror.posFromIndex(e),r=this.codeMirror.posFromIndex(t);return this.codeMirror.getRange(n,r)},i.prototype.initAnnotationList_=function(){var e=this.end();0!==e&&this.annotationList_.insertAnnotatedSpan(new t(0,e),new m)},i.prototype.onAnnotationsChanged_=function(e,t){var n,r={};this.tryToUpdateEntitiesInPlace(e,t);for(var a=0;a<e.length;a++){var o=e[a].annotation.attributes;s.LINE_SENTINEL in o&&(r[this.codeMirror.posFromIndex(e[a].pos).line]=!0),(n=e[a].getAttachedObject())&&n.clear()}for(a=0;a<t.length;a++){var i=t[a].annotation,p=s.LINE_SENTINEL in i.attributes,l=s.ENTITY_SENTINEL in i.attributes,c=this.codeMirror.posFromIndex(t[a].pos);if(p)r[c.line]=!0;else if(l)this.markEntity_(t[a]);else{var d=this.getClassNameForAttributes_(i.attributes);if(""!==d){var u=this.codeMirror.posFromIndex(t[a].pos+t[a].length);n=this.codeMirror.markText(c,u,{className:d}),t[a].attachObject(n)}}}for(var m in r)this.dirtyLines_.push(this.codeMirror.getLineHandle(Number(m))),this.queueLineMarking_()},i.prototype.tryToUpdateEntitiesInPlace=function(e,t){for(var n=e.length;n--;)for(var r=e[n],s=t.length;s--;){var a=t[s];if(r.pos==a.pos&&r.length==a.length&&r.annotation.attributes.ent&&r.annotation.attributes.ent==a.annotation.attributes.ent){var o=a.annotation.attributes.ent;if(this.entityManager_.entitySupportsUpdate(o)){e.splice(n,1),t.splice(s,1);var i=r.getAttachedObject();i.update(a.annotation.attributes),a.attachObject(i)}}}},i.prototype.queueLineMarking_=function(){if(null==this.lineMarkTimeout_){var e=this;this.lineMarkTimeout_=setTimeout(function(){e.lineMarkTimeout_=null;for(var t=[],n=0;n<e.dirtyLines_.length;n++){var r=e.codeMirror.getLineNumber(e.dirtyLines_[n]);t.push(Number(r))}e.dirtyLines_=[],t.sort(function(e,t){return e-t});var s=-1;for(n=0;n<t.length;n++){var a=t[n];a>s&&(s=e.markLineSentinelCharactersForChangedLines_(a,a))}},0)}},i.prototype.addStyleWithCSS_=function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)},i.prototype.getClassNameForAttributes_=function(e){var t="";for(var n in e){var i=e[n];if(n===s.LINE_SENTINEL)r.utils.assert(!0===i,"LINE_SENTINEL attribute should be true if it exists.");else{var p=(this.options_.cssPrefix||"cmrt-")+n;if(!0!==i){n===s.FONT_SIZE&&"string"!=typeof i&&(i+="px");var l=i.toString().toLowerCase().replace(/[^a-z0-9-_]/g,"-");if(p+="-"+l,a[n]&&(o[n]||(o[n]={}),!o[n][l])){o[n][l]=!0;var c=a[n],d="function"==typeof c?c(i):c+": "+i,u=n==s.LINE_INDENT?"pre."+p:"."+p;if(this.addStyleWithCSS_(u+" { "+d+" }"),n===s.LINE_INDENT){u="pre.CodeMirror-line."+p;this.addStyleWithCSS_(u+" { "+d+" }")}}}t=t+" "+p}}return t},i.prototype.markEntity_=function(e){for(var t=e.annotation.attributes,n=r.Entity.fromAttributes(t),s=this.codeMirror,a=this,o=[],i=0;i<e.length;i++){var p=s.posFromIndex(e.pos+i),l=s.posFromIndex(e.pos+i+1),c={collapsed:!0,atomic:!0,inclusiveLeft:!1,inclusiveRight:!1},d=this.createEntityHandle_(n,e.pos),u=this.entityManager_.renderToElement(n,d);u&&(c.replacedWith=u);var m=s.markText(p,l,c);o.push(m),d.setMarker(m)}e.attachObject({clear:function(){for(var e=0;e<o.length;e++)o[e].clear()},update:function(e){for(var t=r.Entity.fromAttributes(e),n=0;n<o.length;n++)a.entityManager_.updateElement(t,o[n].replacedWith)}}),this.queueRefresh_()},i.prototype.queueRefresh_=function(){var e=this;this.refreshTimer_||(this.refreshTimer_=setTimeout(function(){e.codeMirror.refresh(),e.refreshTimer_=null},0))},i.prototype.createEntityHandle_=function(e,t){var n=null,s=this;function a(){if(n){var e=n.find();return e?s.codeMirror.indexFromPos(e.from):null}return t}return{find:a,remove:function(){var e=a();null!=e&&(s.codeMirror.focus(),s.removeText(e,e+1))},replace:function(t){var n=r.AttributeConstants.ENTITY_SENTINEL,o=n+"_",i=a();s.updateTextAttributes(i,i+1,function(r){for(var s in r)delete r[s];for(var a in r[n]=e.type,t)r[o+a]=t[a]})},setMarker:function(e){n=e}}},i.prototype.lineClassRemover_=function(e){var t=this.codeMirror,n=t.getLineHandle(e);return{clear:function(){t.removeLineClass(n,"text",".*")}}},i.prototype.emptySelection_=function(){var e=this.codeMirror.getCursor("start"),t=this.codeMirror.getCursor("end");return e.line===t.line&&e.ch===t.ch},i.prototype.onCodeMirrorBeforeChange_=function(e,t){if("+input"===t.origin||"paste"===t.origin){for(var n=[],r=0;r<t.text.length;r++){var s=t.text[r];s=s.replace(new RegExp("["+p+l+"]","g"),""),n.push(s)}t.update(t.from,t.to,n)}},i.prototype.onCodeMirrorChange_=function(e,n){if("object"==typeof n.from){for(var r=[];n;)r.push(n),n=n.next;n=r}for(var s=this.convertCoordinateSystemForChanges_(n),a=[],o=0;o<s.length;o++){var i,p=s[o],l=p.start,c=(p.end,p.text),d=p.removed,u=p.origin;if(d.length>0){for(var h=this.annotationList_.getAnnotatedSpansForSpan(new t(l,d.length)),f=0,g=0;g<h.length;g++){var x=h[g];a.push({start:l,end:l+x.length,removedAttributes:x.annotation.attributes,removed:d.substr(f,x.length),attributes:{},text:"",origin:p.origin}),f+=x.length}this.annotationList_.removeSpan(new t(l,d.length))}if(c.length>0)"+input"===p.origin||"paste"===p.origin?i=this.currentAttributes_||{}:u in this.outstandingChanges_?(i=this.outstandingChanges_[u].attributes,u=this.outstandingChanges_[u].origOrigin,delete this.outstandingChanges_[u]):i={},this.annotationList_.insertAnnotatedSpan(new t(l,c.length),new m(i)),a.push({start:l,end:l,removedAttributes:{},removed:"",text:c,attributes:i,origin:u})}this.markLineSentinelCharactersForChanges_(n),a.length>0&&this.trigger("change",this,a)},i.prototype.convertCoordinateSystemForChanges_=function(e){var t=this,n=function(e){return t.codeMirror.indexFromPos(e)};function r(e,t){return function(n){return d(n,t.from)?e(n):d(t.to,n)?e({line:n.line+t.text.length-1-(t.to.line-t.from.line),ch:t.to.line<n.line?n.ch:t.text.length<=1?n.ch-(t.to.ch-t.from.ch)+u(t.text):n.ch-t.to.ch+(r=t.text,r[r.length-1]).length})+u(t.removed)-u(t.text):t.from.line===n.line?e(t.from)+n.ch-t.from.ch:e(t.from)+u(t.removed.slice(0,n.line-t.from.line))+1+n.ch;var r}}for(var s=[],a=e.length-1;a>=0;a--){var o=e[a],i=(n=r(n,o))(o.from),p=o.removed.join("\n"),l=o.text.join("\n");s.unshift({start:i,end:i+p.length,removed:p,text:l,origin:o.origin})}return s},i.prototype.markLineSentinelCharactersForChanges_=function(e){for(var t=Number.MAX_VALUE,n=-1,r=0;r<e.length;r++){var s=e[r],a=s.from.line;s.from.ch;(s.removed.length>1||s.removed[0].indexOf(p)>=0)&&(t=Math.min(t,a),n=Math.max(n,a)),s.text.length>1?(t=Math.min(t,a),n=Math.max(n,a+s.text.length-1)):s.text[0].indexOf(p)>=0&&(t=Math.min(t,a),n=Math.max(n,a))}n=Math.min(n,this.codeMirror.lineCount()-1),this.markLineSentinelCharactersForChangedLines_(t,n)},i.prototype.markLineSentinelCharactersForChangedLines_=function(e,t){if(e<Number.MAX_VALUE)for(;e>0&&this.lineIsListItemOrIndented_(e-1);)e--;if(t>-1)for(var n=this.codeMirror.lineCount();t+1<n&&this.lineIsListItemOrIndented_(t+1);)t++;for(var r=[],s=this.codeMirror,a=e;a<=t;a++){var o=s.getLine(a),i=s.getLineHandle(a);if(s.removeLineClass(i,"text",".*"),o.length>0)for(var l=o.indexOf(p);l>=0;){for(var c=l;l<o.length&&o[l]===p;){for(var d=s.findMarksAt({line:a,ch:l}),u=0;u<d.length;u++)d[u].isForLineSentinel&&d[u].clear();l++}this.markLineSentinelCharacters_(a,c,l,r),l=o.indexOf(p,l)}else r=[]}return t},i.prototype.markLineSentinelCharacters_=function(e,t,n,r){var a=this.codeMirror,o=null,i=null,p=function(){var e=i.find();return e?e.from.line:null};if(0===t){var l=this.getLineAttributes_(e),c=l[s.LIST_TYPE],d=l[s.LINE_INDENT]||0;for(c&&0===d&&(d=1);d>=r.length;)r.push(1);"o"===c?(o=this.makeOrderedListElement_(r[d]),r[d]++):"u"===c?(o=this.makeUnorderedListElement_(),r[d]=1):"t"===c?(o=this.makeTodoListElement_(!1,p),r[d]=1):"tc"===c&&(o=this.makeTodoListElement_(!0,p),r[d]=1);var u=this.getClassNameForAttributes_(l);""!==u&&this.codeMirror.addLineClass(e,"text",u),r[d+1]=1}var m={inclusiveLeft:!0,collapsed:!0};o&&(m.replacedWith=o),(i=a.markText({line:e,ch:t},{line:e,ch:n},m)).isForLineSentinel=!0},i.prototype.makeOrderedListElement_=function(e){return n.elt("div",e+".",{class:"firepad-list-left"})},i.prototype.makeUnorderedListElement_=function(){return n.elt("div","•",{class:"firepad-list-left"})},i.prototype.toggleTodo=function(e){var t,n=s.LIST_TYPE,r=this.getCurrentLineAttributes_();n in r&&("t"===r[n]||"tc"===r[n])?"t"===r[n]?t="tc":"tc"===r[n]&&(t=!!e&&"t"):t="t",this.setLineAttribute(n,t)},i.prototype.makeTodoListElement_=function(e,t){var r={type:"checkbox",class:"firepad-todo-left"};e&&(r.checked=!0);var s=n.elt("input",!1,r),a=this;return n.on(s,"click",n.stopEventAnd(function(e){a.codeMirror.setCursor({line:t(),ch:1}),a.toggleTodo(!0)})),s},i.prototype.lineIsListItemOrIndented_=function(e){var t=this.getLineAttributes_(e);return!1!==(t[s.LIST_TYPE]||!1)||0!==(t[s.LINE_INDENT]||0)},i.prototype.onCursorActivity_=function(){var e=this;setTimeout(function(){e.updateCurrentAttributes_()},1)},i.prototype.getCurrentAttributes_=function(){return this.currentAttributes_||this.updateCurrentAttributes_(),this.currentAttributes_},i.prototype.updateCurrentAttributes_=function(){var e=this.codeMirror,t=e.indexFromPos(e.getCursor("anchor")),n=e.indexFromPos(e.getCursor("head")),a=n;if(t>n){for(;a<this.end();){var o=this.getRange(a,a+1);if("\n"!==o&&o!==p)break;a++}a<this.end()&&a++}else for(;a>0&&("\n"===(o=this.getRange(a-1,a))||o===p);)a--;var i=this.annotationList_.getAnnotatedSpansForPos(a);this.currentAttributes_={};var l={};for(var c in i.length>0&&!(s.LINE_SENTINEL in i[0].annotation.attributes)?l=i[0].annotation.attributes:i.length>1&&(r.utils.assert(!(s.LINE_SENTINEL in i[1].annotation.attributes),"Cursor can't be between two line sentinel characters."),l=i[1].annotation.attributes),l)"l"!==c&&"lt"!==c&&"li"!==c&&0!==c.indexOf(s.ENTITY_SENTINEL)&&(this.currentAttributes_[c]=l[c])},i.prototype.getCurrentLineAttributes_=function(){var e=this.codeMirror,t=e.getCursor("anchor"),n=e.getCursor("head"),r=n.line;return 0===n.ch&&t.line<n.line&&r--,this.getLineAttributes_(r)},i.prototype.getLineAttributes_=function(e){var n={},s=this.codeMirror.getLine(e);if(s.length>0&&s[0]===p){var a=this.codeMirror.indexFromPos({line:e,ch:0}),o=this.annotationList_.getAnnotatedSpansForSpan(new t(a,1));for(var i in r.utils.assert(1===o.length),o[0].annotation.attributes)n[i]=o[0].annotation.attributes[i]}return n},i.prototype.clearAnnotations_=function(){this.annotationList_.updateSpan(new t(0,this.end()),function(e,t){return new m({})})},i.prototype.newline=function(){var e=this.codeMirror,t=this;if(this.emptySelection_()){var n=e.getCursor("head").line,r=this.getLineAttributes_(n),a=r[s.LIST_TYPE];a&&1===e.getLine(n).length?this.updateLineAttributes(n,n,function(e){delete e[s.LIST_TYPE],delete e[s.LINE_INDENT]}):(e.replaceSelection("\n","end","+input"),this.updateLineAttributes(n+1,n+1,function(e){for(var o in r)e[o]=r[o];"tc"===a&&(e[s.LIST_TYPE]="t"),t.trigger("newLine",{line:n+1,attr:e})}))}else e.replaceSelection("\n","end","+input")},i.prototype.deleteLeft=function(){var e=this.codeMirror,t=e.getCursor("head"),n=this.getLineAttributes_(t.line),r=n[s.LIST_TYPE],a=n[s.LINE_INDENT],o=this.emptySelection_()&&1===t.ch;o&&r?this.updateLineAttributes(t.line,t.line,function(e){delete e[s.LIST_TYPE],delete e[s.LINE_INDENT]}):o&&a&&a>0?this.unindent():e.deleteH(-1,"char")},i.prototype.deleteRight=function(){var e=this.codeMirror,t=e.getCursor("head"),n=e.getLine(t.line),r=this.areLineSentinelCharacters_(n),s=t.line+1<e.lineCount()?e.getLine(t.line+1):"";this.emptySelection_()&&r&&s[0]===p?(e.replaceRange("",{line:t.line,ch:0},{line:t.line+1,ch:0},"+input"),e.setCursor({line:t.line,ch:0})):e.deleteH(1,"char")},i.prototype.indent=function(){this.updateLineAttributesForSelection(function(e){var t=e[s.LINE_INDENT],n=e[s.LIST_TYPE];t?e[s.LINE_INDENT]++:e[s.LINE_INDENT]=n?2:1})},i.prototype.unindent=function(){this.updateLineAttributesForSelection(function(e){var t=e[s.LINE_INDENT];t&&t>1?e[s.LINE_INDENT]=t-1:(delete e[s.LIST_TYPE],delete e[s.LINE_INDENT])})},i.prototype.getText=function(){return this.codeMirror.getValue().replace(new RegExp(p,"g"),"")},i.prototype.areLineSentinelCharacters_=function(e){for(var t=0;t<e.length;t++)if(e[t]!==p)return!1;return!0},m.prototype.equals=function(e){if(!(e instanceof m))return!1;var t;for(t in this.attributes)if(e.attributes[t]!==this.attributes[t])return!1;for(t in e.attributes)if(e.attributes[t]!==this.attributes[t])return!1;return!0},i}(),(r=r||{}).RichTextCodeMirrorAdapter=function(){"use strict";var e=r.TextOperation,t=r.WrappedOperation,n=r.Cursor;function s(e){this.rtcm=e,this.cm=e.codeMirror,p(this,"onChange"),p(this,"onAttributesChange"),p(this,"onCursorActivity"),p(this,"onFocus"),p(this,"onBlur"),this.rtcm.on("change",this.onChange),this.rtcm.on("attributesChange",this.onAttributesChange),this.cm.on("cursorActivity",this.onCursorActivity),this.cm.on("focus",this.onFocus),this.cm.on("blur",this.onBlur)}function a(e,t){return e.line<t.line?-1:e.line>t.line?1:e.ch<t.ch?-1:e.ch>t.ch?1:0}function o(e){var t=e.lineCount()-1;return e.indexFromPos({line:t,ch:e.getLine(t).length})}function i(e,t){if(!e)throw new Error(t||"assertion error")}function p(e,t){var n=e[t];e[t]=function(){n.apply(e,arguments)}}function l(e){for(var t in e)return!1;return!0}function c(e,t){if("string"!=typeof e)throw new TypeError("Expected a string");3===(e=e.replace(/^#/,"")).length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var n,r=parseInt(e,16),s=[r>>16,r>>8&255,255&r],a="rgb";return null!==(n=t)&&void 0!==n&&(a="rgba",s.push(t)),a+"("+s.join(",")+")"}return s.prototype.detach=function(){this.rtcm.off("change",this.onChange),this.rtcm.off("attributesChange",this.onAttributesChange),this.cm.off("cursorActivity",this.onCursorActivity),this.cm.off("focus",this.onFocus),this.cm.off("blur",this.onBlur)},s.operationFromCodeMirrorChanges=function(t,n){for(var r=o(n),s=(new e).retain(r),a=(new e).retain(r),i=t.length-1;i>=0;i--){var p=t[i],l=p.start,c=r-l-p.text.length;s=(new e).retain(l).delete(p.removed.length).insert(p.text,p.attributes).retain(c).compose(s),a=a.compose((new e).retain(l).delete(p.text.length).insert(p.removed,p.removedAttributes).retain(c)),r+=p.removed.length-p.text.length}return[s,a]},s.operationFromAttributesChanges=function(t,n){for(var r=o(n),s=new e,a=new e,p=0,l=0;l<t.length;l++){var c=t[l],d=c.start-p;i(d>=0),s.retain(d),a.retain(d);var u=c.end-c.start;s.retain(u,c.attributes),a.retain(u,c.attributesInverse),p=c.start+u}return s.retain(r-p),a.retain(r-p),[s,a]},s.prototype.registerCallbacks=function(e){this.callbacks=e},s.prototype.onChange=function(e,t){if("RTCMADAPTER"!==t[0].origin){var n=s.operationFromCodeMirrorChanges(t,this.cm);this.trigger("change",n[0],n[1])}},s.prototype.onAttributesChange=function(e,t){if("RTCMADAPTER"!==t[0].origin){var n=s.operationFromAttributesChanges(t,this.cm);this.trigger("change",n[0],n[1])}},s.prototype.onCursorActivity=function(){var e=this;setTimeout(function(){e.trigger("cursorActivity")},1)},s.prototype.onFocus=function(){this.trigger("focus")},s.prototype.onBlur=function(){this.cm.somethingSelected()||this.trigger("blur")},s.prototype.getValue=function(){return this.cm.getValue()},s.prototype.getCursor=function(){var e,t=this.cm,r=t.getCursor(),s=t.indexFromPos(r);if(t.somethingSelected()){var o=t.getCursor(!0),i=0===a(r,o)?t.getCursor(!1):o;e=t.indexFromPos(i)}else e=s;return new n(s,e)},s.prototype.setCursor=function(e){this.cm.setSelection(this.cm.posFromIndex(e.position),this.cm.posFromIndex(e.selectionEnd))},s.prototype.addStyleRule=function(e){if("undefined"!=typeof document&&null!==document){if(!this.addedStyleRules){this.addedStyleRules={};var t=document.createElement("style");document.documentElement.getElementsByTagName("head")[0].appendChild(t),this.addedStyleSheet=t.sheet}if(!this.addedStyleRules[e])return this.addedStyleRules[e]=!0,this.addedStyleSheet.insertRule(e,0)}},s.prototype.setOtherCursor=function(e,t,n){var r=this.cm.posFromIndex(e.position);if("string"==typeof t&&t.match(/^#[a-fA-F0-9]{3,6}$/)){var s=this.rtcm.end();if("object"==typeof e&&"number"==typeof e.position&&"number"==typeof e.selectionEnd&&!(e.position<0||e.position>s||e.selectionEnd<0||e.selectionEnd>s)){if(e.position===e.selectionEnd){var a=this.cm.cursorCoords(r),o=document.createElement("span");return o.className="other-client",o.style.borderLeftWidth="2px",o.style.borderLeftStyle="solid",o.style.borderLeftColor=t,o.style.marginLeft=o.style.marginRight="-1px",o.style.height=.9*(a.bottom-a.top)+"px",o.setAttribute("data-clientid",n),o.style.zIndex=0,this.cm.setBookmark(r,{widget:o,insertLeft:!0})}var i,p,l="selection-"+t.replace("#",""),d="."+l+" { background: "+c(t)+";\n background: "+c(t,.4)+";}";return this.addStyleRule(d),e.selectionEnd>e.position?(i=r,p=this.cm.posFromIndex(e.selectionEnd)):(i=this.cm.posFromIndex(e.selectionEnd),p=r),this.cm.markText(i,p,{className:l})}}},s.prototype.trigger=function(e){var t=Array.prototype.slice.call(arguments,1),n=this.callbacks&&this.callbacks[e];n&&n.apply(this,t)},s.prototype.applyOperation=function(e){e.ops.length>10&&this.rtcm.codeMirror.getWrapperElement().setAttribute("style","display: none");for(var t=e.ops,n=0,r=0,s=t.length;r<s;r++){var a=t[r];a.isRetain()?(l(a.attributes)||this.rtcm.updateTextAttributes(n,n+a.chars,function(e){for(var t in a.attributes)!1===a.attributes[t]?delete e[t]:e[t]=a.attributes[t]},"RTCMADAPTER",!0),n+=a.chars):a.isInsert()?(this.rtcm.insertText(n,a.text,a.attributes,"RTCMADAPTER"),n+=a.text.length):a.isDelete()&&this.rtcm.removeText(n,n+a.chars,"RTCMADAPTER")}e.ops.length>10&&(this.rtcm.codeMirror.getWrapperElement().setAttribute("style",""),this.rtcm.codeMirror.refresh())},s.prototype.registerUndo=function(e){this.cm.undo=e},s.prototype.registerRedo=function(e){this.cm.redo=e},s.prototype.invertOperation=function(n){for(var r,s,a=0,o=this.rtcm.codeMirror,i=new e,p=0;p<n.wrapped.ops.length;p++){var c=n.wrapped.ops[p];if(c.isRetain())if(l(c.attributes))i.retain(c.chars),a+=c.chars;else for(r=this.rtcm.getAttributeSpans(a,a+c.chars),s=0;s<r.length;s++){var d={};for(var u in c.attributes){var m=c.attributes[u],h=r[s].attributes[u];!1===m?h&&(d[u]=h):m!==h&&(d[u]=h||!1)}i.retain(r[s].length,d),a+=r[s].length}else if(c.isInsert())i.delete(c.text.length);else if(c.isDelete()){var f=o.getRange(o.posFromIndex(a),o.posFromIndex(a+c.chars));r=this.rtcm.getAttributeSpans(a,a+c.chars);var g=0;for(s=0;s<r.length;s++)i.insert(f.substr(g,r[s].length),r[s].attributes),g+=r[s].length;a+=c.chars}}return new t(i,n.meta.invert())},s}(),(r=r||{}).Formatting=function(){var e=r.AttributeConstants;function t(e){if(!(this instanceof t))return new t(e);this.attributes=e||{}}return t.prototype.cloneWithNewAttribute_=function(e,n){var r={};for(var s in this.attributes)r[s]=this.attributes[s];return!1===n?delete r[e]:r[e]=n,new t(r)},t.prototype.bold=function(t){return this.cloneWithNewAttribute_(e.BOLD,t)},t.prototype.italic=function(t){return this.cloneWithNewAttribute_(e.ITALIC,t)},t.prototype.underline=function(t){return this.cloneWithNewAttribute_(e.UNDERLINE,t)},t.prototype.strike=function(t){return this.cloneWithNewAttribute_(e.STRIKE,t)},t.prototype.font=function(t){return this.cloneWithNewAttribute_(e.FONT,t)},t.prototype.fontSize=function(t){return this.cloneWithNewAttribute_(e.FONT_SIZE,t)},t.prototype.color=function(t){return this.cloneWithNewAttribute_(e.COLOR,t)},t.prototype.backgroundColor=function(t){return this.cloneWithNewAttribute_(e.BACKGROUND_COLOR,t)},t}(),(r=r||{}).Text=function(){return function e(t,n){if(!(this instanceof e))return new e(t,n);this.text=t,this.formatting=n||r.Formatting()}}(),(r=r||{}).LineFormatting=function(){var e=r.AttributeConstants;function t(n){if(!(this instanceof t))return new t(n);this.attributes=n||{},this.attributes[e.LINE_SENTINEL]=!0}return t.LIST_TYPE={NONE:!1,ORDERED:"o",UNORDERED:"u",TODO:"t",TODOCHECKED:"tc"},t.prototype.cloneWithNewAttribute_=function(e,n){var r={};for(var s in this.attributes)r[s]=this.attributes[s];return!1===n?delete r[e]:r[e]=n,new t(r)},t.prototype.indent=function(t){return this.cloneWithNewAttribute_(e.LINE_INDENT,t)},t.prototype.align=function(t){return this.cloneWithNewAttribute_(e.LINE_ALIGN,t)},t.prototype.listItem=function(t){return r.utils.assert(!1===t||"u"===t||"o"===t||"t"===t||"tc"===t),this.cloneWithNewAttribute_(e.LIST_TYPE,t)},t.prototype.getIndent=function(){return this.attributes[e.LINE_INDENT]||0},t.prototype.getAlign=function(){return this.attributes[e.LINE_ALIGN]||0},t.prototype.getListItem=function(){return this.attributes[e.LIST_TYPE]||!1},t}(),(r=r||{}).Line=function(){return function e(t,n){if(!(this instanceof e))return new e(t,n);"[object Array]"!==Object.prototype.toString.call(t)&&(t=void 0===t?[]:[t]),this.textPieces=t,this.formatting=n||r.LineFormatting()}}(),(r=r||{}).ParseHtml=function(){var e,t=r.LineFormatting.LIST_TYPE;function n(e,n,s){this.listType=e||t.UNORDERED,this.lineFormatting=n||r.LineFormatting(),this.textFormatting=s||r.Formatting()}function s(){this.lines=[],this.currentLine=[],this.currentLineListItemType=null}n.prototype.withTextFormatting=function(e){return new n(this.listType,this.lineFormatting,e)},n.prototype.withLineFormatting=function(e){return new n(this.listType,e,this.textFormatting)},n.prototype.withListType=function(e){return new n(e,this.lineFormatting,this.textFormatting)},n.prototype.withIncreasedIndent=function(){var e=this.lineFormatting.indent(this.lineFormatting.getIndent()+1);return new n(this.listType,e,this.textFormatting)},n.prototype.withAlign=function(e){var t=this.lineFormatting.align(e);return new n(this.listType,t,this.textFormatting)},s.prototype.newlineIfNonEmpty=function(e){this.cleanLine_(),this.currentLine.length>0&&this.newline(e)},s.prototype.newlineIfNonEmptyOrListItem=function(e){this.cleanLine_(),(this.currentLine.length>0||null!==this.currentLineListItemType)&&this.newline(e)},s.prototype.newline=function(e){this.cleanLine_();var t=e.lineFormatting;null!==this.currentLineListItemType&&(t=t.listItem(this.currentLineListItemType),this.currentLineListItemType=null),this.lines.push(r.Line(this.currentLine,t)),this.currentLine=[]},s.prototype.makeListItem=function(e){this.currentLineListItemType=e},s.prototype.cleanLine_=function(){if(this.currentLine.length>0){var e=this.currentLine.length-1;this.currentLine[0].text=this.currentLine[0].text.replace(/^ +/,""),this.currentLine[e].text=this.currentLine[e].text.replace(/ +$/g,"");for(var t=0;t<this.currentLine.length;t++)this.currentLine[t].text=this.currentLine[t].text.replace(/\u00a0/g," ")}1===this.currentLine.length&&""===this.currentLine[0].text&&(this.currentLine=[])};var a=a||{ELEMENT_NODE:1,TEXT_NODE:3};function o(n,s,o){if(n.nodeType===a.ELEMENT_NODE){var p=e.fromElement(n);if(p)return void o.currentLine.push(new r.Text(r.sentinelConstants.ENTITY_SENTINEL_CHARACTER,new r.Formatting(p.toAttributes())))}switch(n.nodeType){case a.TEXT_NODE:var l=n.nodeValue.replace(/[ \n\t]+/g," ");o.currentLine.push(r.Text(l,s.textFormatting));break;case a.ELEMENT_NODE:switch(s=function(e,t){for(var n=e.textFormatting,s=e.lineFormatting,a=t.split(";"),o=0;o<a.length;o++){var i=a[o].split(":");if(2===i.length){var p=r.utils.trim(i[0]).toLowerCase(),l=r.utils.trim(i[1]).toLowerCase();switch(p){case"text-decoration":var c=l.indexOf("underline")>=0,d=l.indexOf("line-through")>=0;n=n.underline(c).strike(d);break;case"font-weight":var u="bold"===l||parseInt(l)>=600;n=n.bold(u);break;case"font-style":var m="italic"===l||"oblique"===l;n=n.italic(m);break;case"color":n=n.color(l);break;case"background-color":n=n.backgroundColor(l);break;case"text-align":s=s.align(l);break;case"font-size":var h=null;r.utils.stringEndsWith(l,["px","pt","%","em","xx-small","x-small","small","medium","large","x-large","xx-large","smaller","larger"])?h=l:parseInt(l)&&(h=parseInt(l)+"px"),h&&(n=n.fontSize(h));break;case"font-family":var f=r.utils.trim(l.split(",")[0]);f=(f=f.replace(/['"]/g,"")).replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}),n=n.font(f)}}}return e.withLineFormatting(s).withTextFormatting(n)}(s,n.getAttribute("style")||""),n.nodeName.toLowerCase()){case"div":case"h1":case"h2":case"h3":case"p":o.newlineIfNonEmpty(s),i(n,s,o),o.newlineIfNonEmpty(s);break;case"center":s=s.withAlign("center"),o.newlineIfNonEmpty(s),i(n,s.withAlign("center"),o),o.newlineIfNonEmpty(s);break;case"b":case"strong":i(n,s.withTextFormatting(s.textFormatting.bold(!0)),o);break;case"u":i(n,s.withTextFormatting(s.textFormatting.underline(!0)),o);break;case"i":case"em":i(n,s.withTextFormatting(s.textFormatting.italic(!0)),o);break;case"s":i(n,s.withTextFormatting(s.textFormatting.strike(!0)),o);break;case"font":var c=n.getAttribute("face"),d=n.getAttribute("color"),u=parseInt(n.getAttribute("size"));c&&(s=s.withTextFormatting(s.textFormatting.font(c))),d&&(s=s.withTextFormatting(s.textFormatting.color(d))),u&&(s=s.withTextFormatting(s.textFormatting.fontSize(u))),i(n,s,o);break;case"br":o.newline(s);break;case"ul":o.newlineIfNonEmptyOrListItem(s);var m="firepad-todo"===n.getAttribute("class")?t.TODO:t.UNORDERED;i(n,s.withListType(m).withIncreasedIndent(),o),o.newlineIfNonEmpty(s);break;case"ol":o.newlineIfNonEmptyOrListItem(s),i(n,s.withListType(t.ORDERED).withIncreasedIndent(),o),o.newlineIfNonEmpty(s);break;case"li":!function(e,n,r){r.newlineIfNonEmptyOrListItem(n);var s="firepad-checked"===e.getAttribute("class")?t.TODOCHECKED:n.listType;r.makeListItem(s);var a=r.currentLine;i(e,n,r),(a===r.currentLine||r.currentLine.length>0)&&r.newline(n)}(n,s,o);break;case"style":break;default:i(n,s,o)}}}function i(e,t,n){if(e.hasChildNodes())for(var r=0;r<e.childNodes.length;r++)o(e.childNodes[r],t,n)}return function(t,a){var i=(r.document||document).createElement("div");i.innerHTML=t,e=a;var p=new s;return o(i,new n,p),p.lines}}(),(r=r||{}).SerializeHtml=function(){var e=r.utils,t=r.AttributeConstants,n=r.LineFormatting.LIST_TYPE,s='<style>ul.firepad-todo { list-style: none; margin-left: 0; padding-left: 0; } ul.firepad-todo > li { padding-left: 1em; text-indent: -1em; } ul.firepad-todo > li:before { content: "\\2610"; padding-right: 5px; } ul.firepad-todo > li.firepad-checked:before { content: "\\2611"; padding-right: 5px; }</style>\n';function a(e){return e===n.ORDERED?"<ol>":e===n.UNORDERED?"<ul>":'<ul class="firepad-todo">'}function o(e){return e===n.ORDERED?"</ol>":"</ul>"}function i(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00a0/g,"&nbsp;")}return function(p,l){for(var c,d,u="",m=!0,h=[],f=!1,g=!0,x=!0,v=0,b=p.ops[v],y=!1;b;){e.assert(b.isInsert());var _=b.attributes;if(m){m=!1;var w=0,E=null,S="left";t.LINE_SENTINEL in _&&(w=_[t.LINE_INDENT]||0,E=_[t.LIST_TYPE]||null,S=_[t.LINE_ALIGN]||"left"),E&&(w=w||1),f?(u+="</li>",f=!1):g||(x&&(u+="<br/>"),u+="</div>"),g=!1,e.assert(w>=0,"Indent must not be negative.");for(;h.length>w||w===h.length&&null!==E&&(c=E,d=h[h.length-1],!(c===d||c===n.TODO&&d===n.TODOCHECKED||c===n.TODOCHECKED&&d===n.TODO));)u+=o(h.pop());for(;h.length<w;){var C=E||n.UNORDERED;y=E==n.TODO||E==n.TODOCHECKED||y,u+=a(C),h.push(C)}var T="left"!==S?' style="text-align:'+S+'"':"";if(E){var A="";switch(E){case n.TODOCHECKED:A=' class="firepad-checked"';break;case n.TODO:A=' class="firepad-unchecked"'}u+="<li"+A+T+">",f=!0}else u+="<div"+T+">";x=!0}if(t.LINE_SENTINEL in _)b=p.ops[++v];else if(t.ENTITY_SENTINEL in _){for(var L=0;L<b.text.length;L++){var M=r.Entity.fromAttributes(_);u+=l.exportToElement(M).outerHTML}b=p.ops[++v]}else{var I="",R="";for(var k in _){var N,O,F=_[k];k===t.BOLD||k===t.ITALIC||k===t.UNDERLINE||k===t.STRIKE?(e.assert(!0===F),N=O=k):k===t.FONT_SIZE?(N='span style="font-size: '+F,N+="string"!=typeof F||-1===F.indexOf("px",F.length-2)?'px"':'"',O="span"):k===t.FONT?(N='span style="font-family: '+F+'"',O="span"):k===t.COLOR?(N='span style="color: '+F+'"',O="span"):k===t.BACKGROUND_COLOR?(N='span style="background-color: '+F+'"',O="span"):e.log(!1,"Encountered unknown attribute while rendering html: "+k),N&&(I+="<"+N+">"),O&&(R="</"+O+">"+R)}var j=b.text,D=j.indexOf("\n");D>=0?(m=!0,b=D<j.length-1?new r.TextOp("insert",j.substr(D+1),_):p.ops[++v],j=j.substr(0,D)):b=p.ops[++v],(j=j.replace(/  +/g,function(e){return new Array(e.length+1).join(" ")}).replace(/^ /," ").replace(/ $/," ")).length>0&&(x=!1),u+=I+i(j)+R}}for(f?u+="</li>":g||(x&&(u+="&nbsp;"),u+="</div>");h.length>0;)u+=o(h.pop());return y&&(u=s+u),u}}(),(r=r||{}).textPiecesToInserts=function(e,t){var n=[];function s(t,s){t instanceof r.Text&&(s=t.formatting.attributes,t=t.text),n.push({string:t,attributes:s}),e="\n"===t[t.length-1]}function a(t,n){e&&s(r.sentinelConstants.LINE_SENTINEL_CHARACTER,t.formatting.attributes);for(var a=0;a<t.textPieces.length;a++)s(t.textPieces[a]);n&&s("\n")}for(var o=0;o<t.length;o++)t[o]instanceof r.Line?a(t[o],o<t.length-1):s(t[o]);return n},(r=r||{}).Headless=function(){var e=r.TextOperation,t=r.FirebaseAdapter,n=r.EntityManager,s=r.ParseHtml;function a(e){if(!(this instanceof a))return new a(e);var r,s;"string"==typeof e?(void 0===window.firebase&&"object"!=typeof r?(console.log("REQUIRING"),r=require("firebase/app"),require("firebase/database")):r=window.firebase,s=r.database().refFromURL(e)):s=e,this.entityManager_=new n,this.firebaseAdapter_=new t(s),this.ready_=!1,this.zombie_=!1}return a.prototype.getDocument=function(e){var t=this;if(t.ready_)return e(t.firebaseAdapter_.getDocument());t.firebaseAdapter_.on("ready",function(){t.ready_=!0,e(t.firebaseAdapter_.getDocument())})},a.prototype.getText=function(e){if(this.zombie_)throw new Error("You can't use a firepad.Headless after calling dispose()!");this.getDocument(function(t){var n=t.apply("");for(var s in r.sentinelConstants)n=n.replace(new RegExp(r.sentinelConstants[s],"g"),"");e(n)})},a.prototype.setText=function(t,n){if(this.zombie_)throw new Error("You can't use a firepad.Headless after calling dispose()!");var r=e().insert(t);this.sendOperationWithRetry(r,n)},a.prototype.initializeFakeDom=function(e){if("object"==typeof document||"object"==typeof r.document)e();else{const t=require("jsdom"),{JSDOM:n}=t,{window:s}=new n("<head></head><body></body>");if(r.document)return s.close(),e();r.document=s.document,e()}},a.prototype.getHtml=function(e){var t=this;if(this.zombie_)throw new Error("You can't use a firepad.Headless after calling dispose()!");t.initializeFakeDom(function(){t.getDocument(function(n){e(r.SerializeHtml(n,t.entityManager_))})})},a.prototype.setHtml=function(t,n){var a=this;if(this.zombie_)throw new Error("You can't use a firepad.Headless after calling dispose()!");a.initializeFakeDom(function(){for(var o=s(t,a.entityManager_),i=r.textPiecesToInserts(!0,o),p=new e,l=0;l<i.length;l++)p.insert(i[l].string,i[l].attributes);a.sendOperationWithRetry(p,n)})},a.prototype.sendOperationWithRetry=function(e,t){var n=this;n.getDocument(function(r){var s=e.clone().delete(r.targetLength);n.firebaseAdapter_.sendOperation(s,function(r,s){s?void 0!==t&&t(null,s):n.sendOperationWithRetry(e,t)})})},a.prototype.dispose=function(){this.zombie_=!0,this.firebaseAdapter_.dispose()},a}();const i={1:{category:"Core","sub-category":"trigonometric",data:[{url:"https://nerdamer.com/functions/cos.html",content:{name:"cos",subname:"cosine",description:"\n                        This function will return some known values for multiples of pi, pi/2, pi/3, etc. \n                      For numeric values it returns the javascript value for pi. In all other cases it returns \n                      a symbolic function.  Expects radians.\n                    ",usage:'nerdamer("cos(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('cos(pi)');\nconsole.log(r.toString());\nvar t = nerdamer('cos(x)')\nconsole.log(t.toString());\nvar u = nerdamer('cos(pi/4)')\nconsole.log(u.toString());\nvar v = nerdamer('cos(pi/2)')\nconsole.log(v.toString());\nv = nerdamer.cos('pi');\nconsole.log(v)</code></pre>\n                "}},{url:"https://nerdamer.com/functions/sin.html",content:{name:"sin",subname:"sine",description:"\n                        This function will return some known values for multiples of pi, pi/2, pi/3, etc. \n                      For numeric values it returns the javascript value for pi. In all other cases it returns \n                      a symbolic function. Expects radians.\n                    ",usage:'nerdamer("sin(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('sin(pi)').evaluate().toString();\nconsole.log(r);\nvar t = nerdamer('sin(x)').evaluate().toString()\nconsole.log(t);\nvar u = nerdamer('sin(pi/4)').evaluate().toString()\nconsole.log(u);\nvar v = nerdamer('sin(pi)').toString()\nconsole.log(v);</code></pre>\n                "}},{url:"https://nerdamer.com/functions/tan.html",content:{name:"tan",subname:"tangent",description:"\n                        This function will return some known values for multiples of pi, pi/2, pi/3, etc. \n                      For numeric values it returns the javascript value for pi. In all other cases it returns \n                      a symbolic function.  Expects radians.\n                    ",usage:'nerdamer("tan(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('tan(pi)');\nconsole.log(r.toString());\nvar t = nerdamer('tan(x)')\nconsole.log(t.toString());\nvar u = nerdamer('tan(pi/4)')\nconsole.log(u.toString());\nvar v = nerdamer('tan(pi/2)')\nconsole.log(v.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/sec.html",content:{name:"sec",subname:"secant",description:"\n                        This function will return some known values for multiples of pi, pi/2, pi/3, etc. \n                      For numeric values it returns the javascript value for pi. In all other cases it returns \n                      a symbolic function.  Expects radians.\n                    ",usage:'nerdamer("sec(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('sec(pi)');\nconsole.log(r.toString());\nvar t = nerdamer('sec(x)')\nconsole.log(t.toString());\nvar u = nerdamer('sec(pi/4)')\nconsole.log(u.toString());\nvar v = nerdamer('sec(pi/2)')\nconsole.log(v.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/csc.html",content:{name:"csc",subname:"cosecant",description:"\n                        This function will return some known values for multiples of pi, pi/2, pi/3, etc. \n                      For numeric values it returns the javascript value for pi. In all other cases it returns \n                      a symbolic function.  Expects radians.\n                    ",usage:'nerdamer("csc(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('csc(pi/2)');\nconsole.log(r.toString());\nvar t = nerdamer('csc(x)')\nconsole.log(t.toString());\nvar u = nerdamer('csc(pi/4)')\nconsole.log(u.toString());\nvar v = nerdamer('csc(pi)')\nconsole.log(v);</code></pre>\n                "}},{url:"https://nerdamer.com/functions/cot.html",content:{name:"cot",subname:"cotangent",description:"\n                        This function will return some known values for multiples of pi, pi/2, pi/3, etc. \n                      For numeric values it returns the javascript value for pi. In all other cases it returns \n                      a symbolic function.  Expects radians.\n                    ",usage:'nerdamer("cot(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('cot(pi/2)');\nconsole.log(r.toString());\nvar t = nerdamer('cot(x)')\nconsole.log(t.toString());\nvar u = nerdamer('cot(pi/4)')\nconsole.log(u.toString());\nvar v = nerdamer('cot(pi)')\nconsole.log(v.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/acos.html",content:{name:"acos",subname:"arccosine",description:"\n                        Returns the inverse of cos in radians. Does not detect for known values of pi at them moment. \n                    ",usage:'nerdamer("acos(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('acos(0)');\nconsole.log(r.toString());\nvar t = nerdamer('acos(-1)')\nconsole.log(t.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/asin.html",content:{name:"asin",subname:"arcsine",description:"\n                        Returns the inverse of sin in radians. Does not detect for known values of pi at them moment. \n                    ",usage:'nerdamer("asin(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('asin(0)');\nconsole.log(r.toString());\nvar t = nerdamer('asin(sqrt(2)/2)')\nconsole.log(t.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/atan.html",content:{name:"atan",subname:"arctangent",description:"\n                        Returns the inverse of tan.\n                    ",usage:'nerdamer("atan(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('atan(0)');\nconsole.log(r.text());\nvar t = nerdamer('atan(-1)').evaluate()\nconsole.log(t.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/atan2.html",content:{name:"atan2",subname:"arctangent 2",description:"\n                        Returns the four-quadrant inverse of tangent.\n                    ",usage:'nerdamer("atan2(x, y)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('atan2(0, 1)').evaluate();\nconsole.log(r.text());\nvar t = nerdamer('atan2(-1, 2)').evaluate()\nconsole.log(t.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/acsc.html",content:{name:"acsc",subname:"arccosecant",description:"\n                        Returns the inverse of csc in radians. \n                    ",usage:'nerdamer("acsc(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('acsc(81)');\nconsole.log(r.toString());\nvar t = nerdamer('acsc(1)')\nconsole.log(t.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/acot.html",content:{name:"acot",subname:"arccotangent",description:"\n                        Returns the inverse of cot in radians. \n                    ",usage:'nerdamer("acot(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('acot(0)');\nconsole.log(r.toString());\nvar t = nerdamer('acot(-1)')\nconsole.log(t.toString());\nt = nerdamer('acot(i-1)').evaluate()\nconsole.log(t.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/asec.html",content:{name:"asec",subname:"arcsecant",description:"\n                        Returns the inverse of sec in radians. \n                    ",usage:'nerdamer("asec(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('asec(11)');\nconsole.log(r.toString());\nvar t = nerdamer('asec(-21)')\nconsole.log(t.toString());</code></pre>\n                "}}]},2:{category:"Core","sub-category":"hyperbolic trig",data:[{url:"https://nerdamer.com/functions/cosh.html",content:{name:"cosh",subname:"hyperbolic cosine",description:"\n                        For numeric values it returns the Math.cosh. In all other cases it returns \n                      a symbolic function. Will polyfill.\n                    ",usage:'nerdamer("cosh(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('cosh(0)').evaluate();\nconsole.log(r.toString());\nvar t = nerdamer('cosh(x)').evaluate()\nconsole.log(t.toString());\nvar u = nerdamer('cos(E)').evaluate()\nconsole.log(u.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/sinh.html",content:{name:"sinh",subname:"hyperbolic sine",description:"\n                        For numeric values it returns the Math.sinh value. In all other cases it returns \n                      a symbolic function. Will polyfill.\n                    ",usage:'nerdamer("sinh(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('sinh(0)');\nconsole.log(r.toString());\nvar t = nerdamer('sinh(x+x)')\nconsole.log(t.toString());\nvar u = nerdamer('sin(0.8813735870195429)').evaluate().text()\nconsole.log(u.toString());\nvar v = nerdamer('sinh(E)').evaluate().evaluate().text()\nconsole.log(v.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/tanh.html",content:{name:"tanh",subname:"hyperbolic tangent",description:"\n                        For numeric values it returns Math.tanh value. In all other cases it returns \n                      a symbolic function. Will polyfill.\n                    ",usage:'nerdamer("tan(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('tanh(0)').evaluate();\nconsole.log(r.toString());\nvar t = nerdamer('tanh(x)')\nconsole.log(t.toString());\nvar u = nerdamer('tan(1)').evaluate()\nconsole.log(u.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/sech.html",content:{name:"sech",subname:"hyperbolic secant",description:"\n                        This function will return the hyperbolic secant\n                    ",usage:'nerdamer("sech(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('sech(pi)').evaluate();\nconsole.log(r.toString());\nvar t = nerdamer('sech(x)')\nconsole.log(t.toString());\nvar u = nerdamer('sech(pi/4)').evaluate()\nconsole.log(u.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/csch.html",content:{name:"csch",subname:"hyperbolic cosecant",description:"\n                        Returns the hyperbolic cosecant of a number\n                    ",usage:'nerdamer("csch(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('csch(pi/2)');\nconsole.log(r.toString());\nvar t = nerdamer('csch(x)')\nconsole.log(t.toString());\nvar u = nerdamer('csch(pi/4)')\nconsole.log(u.toString());\nvar v = nerdamer('csch(pi)')\nconsole.log(v);</code></pre>\n                "}},{url:"https://nerdamer.com/functions/coth.html",content:{name:"coth",subname:"hyperbolic cotangent",description:"\n                        Returns the hyperbolic cotangent of a number\n                    ",usage:'nerdamer("coth(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('coth(pi/2)');\nconsole.log(r.toString());\nvar t = nerdamer('coth(x)')\nconsole.log(t.toString());\nvar u = nerdamer('coth(pi/4)')\nconsole.log(u.toString());\nvar v = nerdamer('coth(pi)')\nconsole.log(v.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/acosh.html",content:{name:"acosh",subname:"inverse hyperbolic cosine",description:"\n                        Returns the inverse of cosh.\n                    ",usage:'nerdamer("acosh(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('acosh(0)');\nconsole.log(r.text());\nvar t = nerdamer('acosh(-1)').evaluate()\nconsole.log(t.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/asinh.html",content:{name:"asinh",subname:"inverse hyperbolic sine",description:"\n                        Returns the inverse of sinh. \n                    ",usage:'nerdamer("asinh(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('asinh(0)');\nconsole.log(r.toString());\nvar t = nerdamer('asinh(1)').evaluate();\nconsole.log(t.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/atanh.html",content:{name:"atanh",subname:"inverse hyperbolic tangent",description:"\n                        Returns the inverse of tanh.\n                    ",usage:'nerdamer("atan(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('atanh(0)');\nconsole.log(r.text());\nvar t = nerdamer('atanh(-1)').evaluate()\nconsole.log(t.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/asech.html",content:{name:"asech",subname:"inverse hyperbolic secant",description:"\n                        Returns the inverse of sech. \n                    ",usage:'nerdamer("asech(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('asech(11)');\nconsole.log(r.toString());\nvar t = nerdamer('asech(-21)')\nconsole.log(t.toString());\nt = nerdamer('asech(i-21)').evaluate()\nconsole.log(t.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/acsch.html",content:{name:"acsch",subname:"inverse hyperbolic cosecant",description:"\n                        Returns the inverse of csch. \n                    ",usage:'nerdamer("acsch(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('acsch(81)');\nconsole.log(r.toString());\nvar t = nerdamer('acsch(1)')\nconsole.log(t.toString());\nt = nerdamer('acsch(i+1)').evaluate()\nconsole.log(t.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/acoth.html",content:{name:"acoth",subname:"inverse hyperbolic cotangent",description:"\n                        Returns the inverse of coth. \n                    ",usage:'nerdamer("acoth(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('acoth(0.1)');\nconsole.log(r.toString());\nvar t = nerdamer('acoth(-i+8)').evaluate()\nconsole.log(t.toString());</code></pre>\n                "}}]},3:{category:"Core","sub-category":"matrix and vector",data:[{url:"https://nerdamer.com/functions/matrix.html",content:{name:"matrix",subname:"matrix",description:"\n                        Creates a matrix\n                    ",usage:'nerdamer("matrix(x, y, ...)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">a row of the matrix containing the columns [e1, e2, ...]</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">y </span>\n    </td>\n    <td><span class="parameter-description">a row of the matrix containing the columns [e1, e2, ...]</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">nerdamer.setVar('M', 'matrix([a, b], [x^2, y-4])');\nvar x = nerdamer('a*x*M');\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/imatrix.html",content:{name:"imatrix",subname:"Identity matrix",description:"\n                        Creates an identity matrix of dimensions n x n\n                    ",usage:'nerdamer("imatrix(n)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">n </span>\n    </td>\n    <td><span class="parameter-description">Dimensions of identity matrix</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('imatrix(4)');\nconsole.log(x.toString());\nx = nerdamer.imatrix(3);\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/determinant.html",content:{name:"determinant",subname:"Matrix determinant",description:"\n                        Computes the determinant of a matrix\n                    ",usage:'nerdamer("determinant(M)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">Matrix </span>\n        <span class="parameter-name">M </span>\n    </td>\n    <td><span class="parameter-description">The matrix for which the determinant is to be calculated.</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">nerdamer.setVar('M', 'matrix([4,5],[1,7])');\nx = nerdamer('determinant(M)');\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/matget.html",content:{name:"matget",subname:"vector get",description:"\n                        Gets an element in a matrix with zero based index.\n                    ",usage:'nerdamer("matget(M, i, j)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">M </span>\n    </td>\n    <td><span class="parameter-description">a matrix from which the element is being retrieved.</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">i </span>\n    </td>\n    <td><span class="parameter-description">row index</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">j </span>\n    </td>\n    <td><span class="parameter-description">column index</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">nerdamer.setVar('M', 'matrix([x,y],[a,b])');\nconsole.log(nerdamer('matget(M, 0, 1)').toString());\nconsole.log(nerdamer('M').toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/matset.html",content:{name:"matset",subname:"matrix set",description:"\n                        Set an element in a matrix with zero based index. Returns the modified vector.\n                    ",usage:'nerdamer("matset(m, i, j)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">M </span>\n    </td>\n    <td><span class="parameter-description">a matrix from which the element is being retrieved.</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">i </span>\n    </td>\n    <td><span class="parameter-description">row index</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">j </span>\n    </td>\n    <td><span class="parameter-description">column index</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Matrix\n                    ",example:"\n                    <pre><code class=\"javascript\">nerdamer.setVar('M', 'matrix([x,y],[a,b])');\nnerdamer.setVar('M', 'matset(M, 0, 1, 5*x)');\nconsole.log(nerdamer('M').toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/invert.html",content:{name:"invert",subname:"invert",description:"\n                        Inverts a matrix\n                    ",usage:'nerdamer("invert(M)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">M </span>\n    </td>\n    <td><span class="parameter-description">a matrix</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">nerdamer.setVar('M', 'matrix([1, 5], [4, 4])');\nvar x = nerdamer('invert(M)');\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/transpose.html",content:{name:"transpose",subname:"transpose",description:"\n                        Transposes a matrix.\n                    ",usage:'nerdamer("transpose(M)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">M </span>\n    </td>\n    <td><span class="parameter-description">a matrix from which the element is being retrieved.</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Matrix\n                    ",example:"\n                    <pre><code class=\"javascript\">nerdamer.setVar('M', 'matrix([x,y],[a,b])');\nconsole.log(nerdamer('transpose(M)').toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/matgetcol.html",content:{name:"matgetcol",subname:"matrix get column",description:"\n                        Gets a column of a matrix. Returns a new vector.\n                    ",usage:'nerdamer("matgetcol(M, i)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">M </span>\n    </td>\n    <td><span class="parameter-description">a matrix from which the column is being retrieved.</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">i </span>\n    </td>\n    <td><span class="parameter-description">the zero based column index</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Matrix\n                    ",example:"\n                    <pre><code class=\"javascript\">nerdamer.setVar('M', 'matrix([x,y],[a,b])');\nvar x = nerdamer('matgetcol(M, 0)');\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/matgetrow.html",content:{name:"matgetrow",subname:"matrix get row",description:"\n                        Gets a row of a matrix. Returns a new vector.\n                    ",usage:'nerdamer("matgetrow(M, i)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">M </span>\n    </td>\n    <td><span class="parameter-description">a matrix from which the row is being retrieved.</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">i </span>\n    </td>\n    <td><span class="parameter-description">the zero based row index</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Matrix\n                    ",example:"\n                    <pre><code class=\"javascript\">nerdamer.setVar('M', 'matrix([x,y],[a,b])');\nvar x = nerdamer('matgetrow(M, 0)');\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/vector.html",content:{name:"vector",subname:"vector",description:"\n                        Creates a vector\n                    ",usage:'nerdamer("vector(x, y, ...)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">element of the vector</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">y </span>\n    </td>\n    <td><span class="parameter-description">element of the vector</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">nerdamer.setVar('v1', 'vector(a-2, x*y, 6)');\nx = nerdamer('a*v1');\nconsole.log(x.toString())</code></pre>\n                "}},{url:"https://nerdamer.com/functions/vecget.html",content:{name:"vecget",subname:"vector get",description:"\n                        Gets an element in a vector with zero based index.\n                    ",usage:'nerdamer("vecget(v)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">v </span>\n    </td>\n    <td><span class="parameter-description">a vector</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">nerdamer.setVar('v', 'vector(a-r, x*x, z)');\nvar x = nerdamer('vecget(v, 0)');\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/vecset.html",content:{name:"vecset",subname:"vector set",description:"\n                        Set an element in a vector with zero based index. Returns the modified vector.\n                    ",usage:'nerdamer("vecset(v)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">v </span>\n    </td>\n    <td><span class="parameter-description">a vector</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Vector\n                    ",example:"\n                    <pre><code class=\"javascript\">nerdamer.setVar('v', 'vector(a-r, x*x, z)');\nnerdamer.setVar('v', 'vecset(v, 0, sqrt(2*g*h))');\nconsole.log(nerdamer('v').toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/cross.html",content:{name:"cross",subname:"cross product",description:"\n                        Calculates the cross product of two vectors\n                    ",usage:'nerdamer("cross(v1, v2)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">Vector </span>\n        <span class="parameter-name">v1 </span>\n    </td>\n    <td><span class="parameter-description">a vector</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">Vector </span>\n        <span class="parameter-name">v2 </span>\n    </td>\n    <td><span class="parameter-description">a vector</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Matrix\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('cross([1,2,3], [4,5,6])').evaluate();\nconsole.log(x.toString());\nx = nerdamer('cross([x+1,2,tan(x)], [4,x^2,1/x])').evaluate();\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/dot.html",content:{name:"dot",subname:"cross product",description:"\n                        Calculates the dot product of two vectors\n                    ",usage:'nerdamer("dot(v1, v2)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">Vector </span>\n        <span class="parameter-name">v1 </span>\n    </td>\n    <td><span class="parameter-description">a vector</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">Vector </span>\n        <span class="parameter-name">v2 </span>\n    </td>\n    <td><span class="parameter-description">a vector</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Matrix\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('dot([1,2,3], [4,5,6])').evaluate();\nconsole.log(x.toString());\nx = nerdamer('dot([x+1,2,tan(x)], [4,x^2,1/x])').evaluate();\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/matsetcol.html",content:{name:"matsetcol",subname:"matrix set column",description:"\n                        Sets a column of a matrix. Returns a new matrix.\n                    ",usage:'nerdamer("matsetcol(M, i, col)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">M </span>\n    </td>\n    <td><span class="parameter-description">a matrix for which the column is being set.</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">i </span>\n    </td>\n    <td><span class="parameter-description">the zero based column index</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">vector </span>\n        <span class="parameter-name">col </span>\n    </td>\n    <td><span class="parameter-description">the vector representation of the column</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Matrix\n                    ",example:"\n                    <pre><code class=\"javascript\">nerdamer.setVar('M', 'matrix([x,y],[a,b])');\nvar M2 = nerdamer('matsetcol(M, 0, [[1],[2]])');\nconsole.log(M2.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/matsetrow.html",content:{name:"matsetrow",subname:"matrix set row",description:"\n                        Sets a row of a matrix. Returns a new matrix.\n                    ",usage:'nerdamer("matsetrow(M, i, row)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">M </span>\n    </td>\n    <td><span class="parameter-description">a matrix for which the row is being set.</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">i </span>\n    </td>\n    <td><span class="parameter-description">the zero based row index</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">vector </span>\n        <span class="parameter-name">row </span>\n    </td>\n    <td><span class="parameter-description">the vector representation of the row</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Matrix\n                    ",example:"\n                    <pre><code class=\"javascript\">nerdamer.setVar('M', 'matrix([x,y],[a,b])');\nvar M2 = nerdamer('matsetrow(M, 0, [1, 2])');\nconsole.log(M2.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/size.html",content:{name:"size",subname:"Size",description:"\n                        Gets the size of the matrix or vector. Returns a vector with the [row length, column length] in matrix.\n                    ",usage:'nerdamer("size(M_V)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">Matrix | Vector </span>\n        <span class="parameter-name">M_V </span>\n    </td>\n    <td><span class="parameter-description">a matrix for which the row is being set.</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Matrix\n                    ",example:"\n                    <pre><code class=\"javascript\">nerdamer.setVar('M', 'matrix([x,y],[a,b])');\nvar matrix_size = nerdamer('size(M)');\nconsole.log(matrix_size.toString());\nvar vector_size = nerdamer('size([a, b, c])');\nconsole.log(vector_size.toString());</code></pre>\n                "}}]},4:{category:"Core","sub-category":"Imaginary",data:[{url:"https://nerdamer.com/functions/polarform.html",content:{name:"polarform",subname:"polar form",description:"\n                        converts imaginary number from rectangular form to polar form.\n                    ",usage:'nerdamer("polarform(z)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">z </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('polarform(b*x+x*c*i)');\nconsole.log(r.toString());\nvar t = nerdamer('polarform(5+i)')\nconsole.log(t.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/rectform.html",content:{name:"rectform",subname:"rectangular form  (Under development)",description:"\n                        converts imaginary number from polar form to rectangular form. This is still being developed so please report any issues.\n                    ",usage:'nerdamer("rectform(z)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">z </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('rectform(e^(atan(1/5)*i)*sqrt(26))');\nconsole.log(r.toString());\nvar t = nerdamer('rectform(e^(atan(-1/26)*i)*sqrt(677))')\nconsole.log(t.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/arg.html",content:{name:"arg",subname:"argument",description:"\n                        Returns the argument of a complex number. \n                    ",usage:'nerdamer("arg(z)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">z </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('arg(81)');\nconsole.log(r.toString());\nvar t = nerdamer('arg(5+i)')\nconsole.log(t.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/imagpart.html",content:{name:"imagpart",subname:"imaginary part",description:"\n                        Returns the imaginary of a complex number. \n                    ",usage:'nerdamer("imagpart(z)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">z </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('imagpart(81+5*b*i)');\nconsole.log(r.toString());\nvar t = nerdamer('imagpart(5+i)')\nconsole.log(t.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/realpart.html",content:{name:"realpart",subname:"realpart part",description:"\n                        Returns the realpart of a complex number. \n                    ",usage:'nerdamer("realpart(z)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">z </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var r = nerdamer('realpart(b*x+x*c*i)');\nconsole.log(r.toString());\nvar t = nerdamer('realpart(5+i)')\nconsole.log(t.toString());</code></pre>\n                "}}]},5:{category:"Core","sub-category":"math functions",data:[{url:"https://nerdamer.com/functions/log.html",content:{name:"log",subname:"natural logarithm",description:"\n                        Calculates the log of a number base e.\n                    ",usage:'nerdamer("log(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('log(e^2)');\nconsole.log(x.toString());\nvar y = nerdamer('log(2*e^2)');\nconsole.log(y.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/log10.html",content:{name:"log10",subname:"logarithm",description:"\n                        Calculates the log of a number base 10. Is a direct extension of Math.log10.\n                    ",usage:'nerdamer("log10(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('log10(100)').evaluate();\nconsole.log(x.toString());\nx = nerdamer('log10(100000)').evaluate();\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/min.html",content:{name:"min",subname:"minimum",description:"\n                        Returns the min of a set of numbers. Maps directly to Math.min(... args) if numeric.\n                    ",usage:'nerdamer("min(... args)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">args </span>\n    </td>\n    <td><span class="parameter-description">A variable number of arguments</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('min(5, 2, 11)').evaluate();\nconsole.log(x.toString());\nx = nerdamer('min(x*x, y, z)');\nconsole.log(x.toString());\n//Instruct nerdamer to return symbolic min and max\nnerdamer.set('SYMBOLIC_MIN_MAX', true);\nx = nerdamer('min(sqrt(2), pi)');\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/max.html",content:{name:"max",subname:"maximum",description:"\n                        Returns the maximum of a set of numbers. Maps directly to Math.max(... args) if numeric.\n                    ",usage:'nerdamer("max(... args)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">args </span>\n    </td>\n    <td><span class="parameter-description">A variable number of arguments</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('max(5, 2, 11)').evaluate();\nconsole.log(x.toString());\nx = nerdamer('max(x*x, y, z)');\nconsole.log(x.toString());\n//Instruct nerdamer to return symbolic min and max\nnerdamer.set('SYMBOLIC_MIN_MAX', true);\nx = nerdamer('max(sqrt(2), pi)');\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/abs.html",content:{name:"abs",subname:"absolute value",description:"\n                        Returns the absolute value of a number/expression\n                    ",usage:'nerdamer("abs(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('abs(-x)');\nconsole.log(x.toString());\nvar y = nerdamer('abs(-2-x)');\nconsole.log(y.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/floor.html",content:{name:"floor",subname:"floor",description:"\n                        Returns the floor of a number. Maps directly to Math.floor(x) if numeric.\n                    ",usage:'nerdamer("floor(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('floor(5/2)').evaluate();\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/ceil.html",content:{name:"ceil",subname:"ceiling",description:"\n                        Returns the ceiling of a number. Maps directly to Math.ceil(x) if numeric.\n                    ",usage:'nerdamer("ceil(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('ceil(5/2)').evaluate();\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/simplify.html",content:{name:"simplify",subname:"Simplify",description:"\n                        Attempts to simplify an expression. Please report any bugs or errors since this is actively being worked on.\n                    ",usage:'nerdamer("simplify(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('simplify((x^2+4*x-45)/(x^2+x-30))');\nconsole.log(x.toString());\nvar y = nerdamer('simplify((17/2)*(-10+8*i)^(-1)-5*(-10+8*i)^(-1)*i)');\nconsole.log(y.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Si.html",content:{name:"Si",subname:"sine integral",description:"\n                        Calculates the sine integral of a number.\n                    ",usage:'nerdamer("Si(number)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">number </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('Si(5)').evaluate();\nconsole.log(x.text());\nx = nerdamer('Si(0)').evaluate();\nconsole.log(x.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Ci.html",content:{name:"Ci",subname:"cosine integral",description:"\n                        Calculates the cosine integral of a number.\n                    ",usage:'nerdamer("Ci(number)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">number </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('Ci(5)').evaluate();\nconsole.log(x.text());\nx = nerdamer('Ci(0)').evaluate();\nconsole.log(x.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Ei.html",content:{name:"Ei",subname:"Exponential Integral",description:"\n                        Calculates the exponential integral of a number.\n                    ",usage:'nerdamer("Ei(number)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">number </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('Ei(5)').evaluate();\nconsole.log(x.text());\nx = nerdamer('Ei(3)').evaluate();\nconsole.log(x.text());\nx = nerdamer('Ei(0)').evaluate();\nconsole.log(x.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/rect.html",content:{name:"rect",subname:"rectangular function",description:"\n                        The rectangular function as defined  here\n                    ",usage:'nerdamer("rect(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('rect(5/2)').evaluate();\nconsole.log(x.toString());\nvar x = nerdamer('rect(-2)').evaluate();\nconsole.log(x.toString());\nvar x = nerdamer('rect(0)').evaluate();\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/step.html",content:{name:"step",subname:"heaviside step function",description:"\n                        The Heaviside step function as defined here\n                    ",usage:'nerdamer("step(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('step(5/2)').evaluate();\nconsole.log(x.toString());\nvar x = nerdamer('step(-2)').evaluate();\nconsole.log(x.toString());\nvar x = nerdamer('step(0)').evaluate();\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/sinc.html",content:{name:"sinc",subname:"sinc function",description:"\n                        The cardinal sine function as defined  here\n                    ",usage:'nerdamer("sinc(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('sinc(5/2)').evaluate();\nconsole.log(x.text());\nvar x = nerdamer('sinc(-2)').evaluate();\nconsole.log(x.text());\nvar x = nerdamer('sinc(0)').evaluate();\nconsole.log(x.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Shi.html",content:{name:"Shi",subname:"hyperbolic sine integral",description:"\n                        Calculates the hyperbolic sine integral of a number.\n                    ",usage:'nerdamer("Shi(number)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">number </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('Shi(5)').evaluate();\nconsole.log(x.text());\nx = nerdamer('Shi(0)').evaluate();\nconsole.log(x.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Chi.html",content:{name:"Chi",subname:"hyperbolic cosine integral",description:"\n                        Calculates the hyperbolic cosine integral of a number.\n                    ",usage:'nerdamer("Chi(number)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">number </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('Chi(5)').evaluate();\nconsole.log(x.text());\nx = nerdamer('Chi(0)').evaluate();\nconsole.log(x.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/fact.html",content:{name:"fact",subname:"factorial",description:"\n                        Calculates the factorial of a number.\n                    ",usage:'nerdamer("factorial(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('fact(5)').evaluate();\nconsole.log(x.text());\nx = nerdamer('fact(9.1)').evaluate();\nconsole.log(x.text());\nx = nerdamer('(4/5)!*3!-1').evaluate();;\nconsole.log(x.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/factorial.html",content:{name:"factorial",subname:"factorial",description:"\n                        Calculates the factorial of a number.\n                    ",usage:'nerdamer("factorial(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('factorial(5)').evaluate();\nconsole.log(x.text());\nx = nerdamer('factorial(9.1)').evaluate();\nconsole.log(x.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/dfactorial.html",content:{name:"dfactorial",subname:"double factorial",description:"\n                        Calculates the double factorial of a number.\n                    ",usage:'nerdamer("dfactorial(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('dfactorial(5)').evaluate();\nconsole.log(x.text());\nx = nerdamer('dfactorial(9)').evaluate();\nconsole.log(x.text());\nx = nerdamer('dfactorial(x+1)').evaluate();\nconsole.log(x.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/exp.html",content:{name:"exp",subname:"exp",description:"\n                        Maps directly to Math.exp(x) if numeric.\n                    ",usage:'nerdamer("exp(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('exp(1)').evaluate();\nconsole.log(x.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/mod.html",content:{name:"mod",subname:"mod",description:"\n                        Calculates the modulo of two numbers.\n                    ",usage:'nerdamer("mod(x, y)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">y </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('mod(5, 2)').evaluate();\nconsole.log(x.toString());\nx = nerdamer('mod(10/12, 1/2)');\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/erf.html",content:{name:"erf",subname:"error function",description:"\n                        Returns the computed value for the error function.\n                    ",usage:'nerdamer("erf(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('erf(x)');\nconsole.log(x.toString());\nvar y = nerdamer('erf(1)').evaluate();\nconsole.log(y.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/sign.html",content:{name:"sign",subname:"sign function",description:"\n                        Returns the sign of the number.\n                    ",usage:'nerdamer("sign(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('sign(x)');\nconsole.log(x.toString());\nvar y = nerdamer('sign(-1)').evaluate();\nconsole.log(y.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/round.html",content:{name:"round",subname:"round",description:"\n                        Rounds a number to the nearest integer.\n                    ",usage:'nerdamer("round(number)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">number </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('round(5.7)').evaluate();\nconsole.log(x.text());\nx = nerdamer('round(1.4)').evaluate();\nconsole.log(x.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/pfactor.html",content:{name:"pfactor",subname:"pfactor",description:"\n                        Returns the prime factors of a number. CAUTION: Calling evaluate will cause the factors to be re-evaluated causing the number to be returned.\n                    ",usage:'nerdamer("pfactor(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('pfactor(5.2)');\nconsole.log(x.text());\nx = nerdamer('pfactor(113)');\nconsole.log(x.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/sqrt.html",content:{name:"sqrt",subname:"square root",description:"\n                        Calculates the square root of a number\n                    ",usage:'nerdamer("sqrt(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('sqrt(-1)');\nconsole.log(x.toString());\nx = nerdamer('sqrt(2)');\nconsole.log(x.toString());\nx = nerdamer('sqrt(3/2)');\nconsole.log(x.toString());\nx = nerdamer('sqrt(x^2/5)');\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/expand.html",content:{name:"expand",subname:"expand",description:"\n                        Expands a function or expression.\n                    ",usage:'nerdamer("expand(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('expand((x^2+1)^2/4)');\nconsole.log(x.toString());\nvar y = nerdamer('expand(x*(x+1))');\nconsole.log(y.toString());\nx = nerdamer('(x+y)*(x-5)*x').expand();\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/fib.html",content:{name:"fib",subname:"fibonacci",description:"\n                        Calculates the fibonacci value given a number.\n                    ",usage:'nerdamer("fib(number)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">number </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('fib(15)').evaluate();\nconsole.log(x.text());\nx = nerdamer('fib(0)').evaluate();\nconsole.log(x.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/tri.html",content:{name:"tri",subname:"triangular function",description:"\n                        The triangular function as defined  here\n                    ",usage:'nerdamer("tri(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('tri(5/2)').evaluate();\nconsole.log(x.toString());\nvar x = nerdamer('tri(-2)').evaluate();\nconsole.log(x.toString());\nvar x = nerdamer('tri(0)').evaluate();\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/parens.html",content:{name:"parens",subname:"parentheses",description:"\n                        Wraps an expression in parentheses. Useful for expressing factors. Calling evaluate removes parentheses.\n                    ",usage:'nerdamer("parens(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('parens(9)*parens(7)');\nconsole.log(x.toString());\nconsole.log(x.evaluate().toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/line.html",content:{name:"line",subname:"sort",description:"\n                        Computes the equation of a straight line given two points\n                    ",usage:'nerdamer("line(p1, p2)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">vector </span>\n        <span class="parameter-name">p1 </span>\n    </td>\n    <td><span class="parameter-description">A vector in form of [x, y]</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">vector </span>\n        <span class="parameter-name">p2 </span>\n    </td>\n    <td><span class="parameter-description">A vector in form of [x, y]</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Vector\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('line([-1,-4], [3,11])');\nconsole.log(x.toString());\nvar y = nerdamer('line([1,2], [3,4])');\nconsole.log(y.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/continued_fraction.html",content:{name:"continued_fraction",subname:"Continued Fraction",description:"\n                        Returns the fraction as a continued fraction. The first digit returned is the sign. The remainder is the continued fraction.\n                    ",usage:'nerdamer("continued_fraction(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('continued_fraction(3.14159)');\nconsole.log(x.toString());\nx = nerdamer('continued_fraction(1/6)')\nconsole.log(x.toString());\nx = nerdamer('continued_fraction(-5/4)')\nconsole.log(x.toString());</code></pre>\n                "}}]},6:{category:"Calculus","sub-category":"functions",data:[{url:"https://nerdamer.com/functions/sum.html",content:{name:"sum",subname:"summation",description:"\n                        Sums an expression from lower to upper limit. Works both numerically and algebraically.\n                    ",usage:'nerdamer("sum(expression, index, lower, upper)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">expression </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">index </span>\n    </td>\n    <td><span class="parameter-description">The index of summation</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">lower </span>\n    </td>\n    <td><span class="parameter-description">Starting index</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">upper </span>\n    </td>\n    <td><span class="parameter-description">Ending index</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('sum(x+1, x, 1, 5)');\nconsole.log(x.toString())\nvar y = nerdamer('sum(x+y, x, 1, 20)');\nconsole.log(y.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/product.html",content:{name:"product",subname:"product",description:"\n                        Calculates the product of an expression from lower to upper limit. Works both numerically and algebraically.\n                    ",usage:'nerdamer("product(expression, index, lower, upper)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">expression </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">index </span>\n    </td>\n    <td><span class="parameter-description">The index</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">lower </span>\n    </td>\n    <td><span class="parameter-description">Starting index</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">upper </span>\n    </td>\n    <td><span class="parameter-description">Ending index</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('product(x+1, x, 1, 20)');\nconsole.log(x.toString())\nvar y = nerdamer('product(x+y, x, 1, 5)');\nconsole.log(y.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/diff.html",content:{name:"diff",subname:"differentiate",description:"\n                        Gets the derivative.\n                    ",usage:'nerdamer("diff(expression_or_vector, x, n)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">expression_or_vector </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">The variable with respect to differentiate</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">n </span>\n    </td>\n    <td><span class="parameter-description">(Optional) The nth derivative.</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('diff(cos(x)*sin(x), x)');\nconsole.log(x.toString());\nvar y = nerdamer('diff([x^2, cos(x), 1], x, 2)'); //second derivative\nconsole.log(y.toString());\nvar y = nerdamer('diff(x^3+a*x^3+x^2, x, 2)'); //second derivative\nconsole.log(y.toString());\nx = nerdamer.diff(nerdamer('x^2').add(1).multiply('tan(x)'), 'x')\nconsole.log(x.toString())</code></pre>\n                "}},{url:"https://nerdamer.com/functions/integrate.html",content:{name:"integrate",subname:"integrate",description:'\n                        Attempts to compute integral of the expression. The depth of integration can be set using the "integration_depth" flag but be careful as this\n                     can seriously degrade performance. See example below. The hasIntegral method can be used to check if the symbol was completely integrated.\n                     This method will return true if the method was not completely integrated. The default depth is 4.\n                    ',usage:'nerdamer("integrate(expression_or_vector, dx)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">expression_or_vector </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">dx </span>\n    </td>\n    <td><span class="parameter-description">The variable with respect to which integrate. Optional for univariate expressions.</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('integrate(10*q/(4*x^2+24*x+20), x)');\nconsole.log(x.toString());\nvar y = nerdamer('integrate(sec(x)^2, x)'); \nconsole.log(y.toString());\nvar y = nerdamer('integrate([sec(x)^2, x^2, 2], x)');\nconsole.log(y.toString());\nvar x  = nerdamer('integrate(cos(x)*x^6, x)');\nconsole.log(x.toString());\n//we can use the hasIntegral method to check if it was fully integrated\nconsole.log(x.hasIntegral());\nx = nerdamer.integrate('sinh(x)*e^x');\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/defint.html",content:{name:"defint",subname:"definite integral",description:"\n                        Attempts to compute the definite integral of the expression. Assumes that function is continuous over interval when integrating numerically.\n                    ",usage:'nerdamer("defint(expression_or_vector, from, to, dx)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">expression_or_vector </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">dx </span>\n    </td>\n    <td><span class="parameter-description">The variable with respect to which integrate. Optional with univariate expression.</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">from </span>\n    </td>\n    <td><span class="parameter-description">The lower limit of integration</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">to </span>\n    </td>\n    <td><span class="parameter-description">The upper limit of integration</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('defint(e^(cos(x)), 1, 2)');\nconsole.log(x.text());\nvar y = nerdamer('defint(x^2+2*x+1,0, 10)');\nconsole.log(y.text());\nvar y = nerdamer('defint(log(2cos(x/2)),-π,π,x)');\nconsole.log(y.text());</code></pre>\n                "}}]},7:{category:"Algebra","sub-category":"functions",data:[{url:"https://nerdamer.com/functions/divide.html",content:{name:"divide",subname:"divide",description:"\n                        Divides 2 polynomials.\n                    ",usage:'nerdamer("divide(x, y)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">y </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('divide(x^2+2*x+1, x+1)');\nconsole.log(x.toString())\nvar y = nerdamer('divide(-b*z-a*z+b^3+a*b^2+a*b+a^2, b+a)');\nconsole.log(y.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/factor.html",content:{name:"factor",subname:"factor",description:"\n                        Factor an expression. Multivariate factoring in currently under development.\n                    ",usage:'nerdamer("factor(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('factor(x^2-3*x-10)');\nconsole.log(x.toString())\nvar y = nerdamer('factor(-b*z-a*z+b^3+a*b^2+a*b+a^2)');\nconsole.log(y.toString());\nvar z = nerdamer('factor(sin(x)^6+3*cos(x)^2*sin(x)^4+3*cos(x)^4*sin(x)^2+cos(x)^6)');\nconsole.log(z.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/partfrac.html",content:{name:"partfrac",subname:"partial fractions",description:"\n                        Performs partial fraction decomposition\n                    ",usage:'nerdamer("partfrac(expression, x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">expression </span>\n    </td>\n    <td><span class="parameter-description">The expression for which the partrial fractions are to be found.</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">The variable for which the partial fractions are to be found.</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Vector\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('partfrac((x^2+a)/(x*(x-1)^3), x)');\nconsole.log(x.toString())\nvar y = nerdamer('partfrac(1/(x^6+x^5),x)');\nconsole.log(y.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/lcm.html",content:{name:"lcm",subname:"Least Common Multiple",description:"\n                        Gets the LCM of 2 polynomials\n                    ",usage:'nerdamer("lcm(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('lcm(x^2+2*x+1, x^2+6*x+5)');\nconsole.log(x.toString())\nvar y = nerdamer('lcm(3, 21)');\nconsole.log(y.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/gcd.html",content:{name:"gcd",subname:"Greatest Common Divisor",description:"\n                        Gets the GCD of 2 polynomials\n                    ",usage:'nerdamer("gcd(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Returns the appropriate value if possible otherwise it returns the function with the simplified expression</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('gcd(x^2+2*x+1, x^2+6*x+5)');\nconsole.log(x.toString())\nvar y = nerdamer('gcd(b*z+a*z+b^2+a*b, a+b)');\nconsole.log(y.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/roots.html",content:{name:"roots",subname:"polynomial roots",description:"\n                        Finds the roots of a univariate polynomial.\n                    ",usage:'nerdamer("roots(x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">The expression for which the roots are to be found.</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Vector\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('roots(x^2-3*x-10)');\nconsole.log(x.toString())\nvar y = nerdamer('roots(x^2+1)');\nconsole.log(y.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/coeffs.html",content:{name:"coeffs",subname:"coefficients",description:"\n                        Get the coefficients of a polynomial. The coefficients will be placed in the index of their power. So constants are in the 0th place, x^2 would be in the 2nd place, etc. Throws an error if expression is not a polynomial. Holes will be filled with zeroes. Coeffs returns a vector so the methods vecget and vecset can be used to access it's elements.\n                    ",usage:'nerdamer("coeffs(polynomial, x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">polynomial </span>\n    </td>\n    <td><span class="parameter-description">The polynomial for which the coefficients are to be found.</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">The respective variable with which to get the coefficients</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Vector\n                    ",example:"\n                    <pre><code class=\"javascript\">var coeffs = nerdamer.coeffs('3*x^2+1', 'x');\nconsole.log(coeffs.toString());\ncoeffs.each(function(e, i) {\n   console.log('coeff #'+i+': ', nerdamer(e).add('t').toString());\n});\nvar poly = nerdamer('a*x^2+b*x+c+x');\ncoeffs = nerdamer.coeffs(poly, 'x');\nconsole.log(coeffs.toString());\ncoeffs = nerdamer.coeffs('a*x+b/x^2', 'x');\nvar p = nerdamer('vecget(coeffs(7*x^2+3*x+11, x), 2)');\nconsole.log(p.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/deg.html",content:{name:"deg",subname:"sort",description:"\n                        Returns the degree of the polynomial. Specify the variable to use in multivariate polynomials.\n                    ",usage:'nerdamer("deg(p)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">Expression/polynomial </span>\n        <span class="parameter-name">p </span>\n    </td>\n    <td><span class="parameter-description">A polynomial</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression/Integer\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('deg(x^2+2*x+1)');\nconsole.log(x.toString());\nvar y = nerdamer('deg(a*x^7+2*x+1,x)');\nconsole.log(y.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/sqcomp.html",content:{name:"sqcomp",subname:"complete the square",description:"\n                        Attempts to rewrite to polynomial to complete the square.\n                    ",usage:'nerdamer("sqcomp(polynomial, x)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">polynomial </span>\n    </td>\n    <td><span class="parameter-description">The polynomial for which is to be rewritten.</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">The variable to use. Will automatically assume the variable for univariate polynomials.</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Vector\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('sqcomp(9*x^2-18*x+17)');\nconsole.log(x.toString());\nvar y = nerdamer('sqcomp(a*x^2+b*x-11*c, x)');\nconsole.log(y.toString());</code></pre>\n                "}}]},8:{category:"Solve","sub-category":"functions",data:[{url:"https://nerdamer.com/functions/solve.html",content:{name:"solve",subname:"solve",description:"\n                        Similiar to solveFor this will solve for a given variable. The difference is that this is a self contained function.\n                    ",usage:'nerdamer("nerdamer("solve(expression, variable")")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">Expression </span>\n        <span class="parameter-name">expression </span>\n    </td>\n    <td><span class="parameter-description">The expression to solve</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">variable </span>\n    </td>\n    <td><span class="parameter-description">The variable to solve for.</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Symbol[]\n                    ",example:"\n                    <pre><code class=\"javascript\">// If a formula is provided, then it will be assumed to equal zero.\nvar x = nerdamer('solve(x^3+1, x)');\nconsole.log(x.toString());\nx = nerdamer.solve('x^2+2*x+1', 'x');\nconsole.log(x.toString());\nx = nerdamer.solve('3*(x+a)*(x-b)', 'x');\nconsole.log(x.toString());\nx = nerdamer.solve('3*(x+a)*(x-b)', 'x');\nconsole.log(x.toString());\n// Full equations are also supported.\nx = nerdamer('solve(x^4=1,x)');\nconsole.log(x.toString());\nx = nerdamer('solve(y=m*x+c, x)');\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/solveEquations.html",content:{name:"solveEquations",subname:"solveEquations",description:"\n                        Solves a system of linear equations. Has limited ability to solve system of nonlinear equations. With nonlinear equations, the first set of solutions which satisfies the constraints will be returned. Also keep in mind that there may be some floating point errors.\n                    ",usage:'nerdamer("nerdamer.solveEquations(expression_or_array, variables)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">Expression </span>\n        <span class="parameter-name">expressions_or_array </span>\n    </td>\n    <td><span class="parameter-description">An array of expression</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">variables </span>\n    </td>\n    <td><span class="parameter-description">The variables to solve for.</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Symbol[]\n                    ",example:"\n                    <pre><code class=\"javascript\">var sol = nerdamer.solveEquations(['x+y=1', '2*x=6', '4*z+y=6']);\nconsole.log(sol.toString());\nsol = nerdamer.solveEquations('cos(x)+cos(3*x)=1','x');\nconsole.log(sol.toString());\nsol = nerdamer.solveEquations('x^2+8+y=x+6','x');\nconsole.log(sol.toString());\nnerdamer.set('SOLUTIONS_AS_OBJECT', true);\nsol = nerdamer.solveEquations(['2*x-y=8', '10*x+7*y-z=53', '4*z+y=6']);\nconsole.log(sol)\nnerdamer.set('SOLUTIONS_AS_OBJECT', true)\n// Linear solutions can be solved symbolically. Just pass in the variables to solve for\nvar solutions = nerdamer.solveEquations(['2*x-b*y=1', 'x+y=4'], ['x', 'y']);\nconsole.log(JSON.stringify(solutions, null, 4))\n// nerdamer also has some ability to solve some nonlinear equations\nnerdamer.set('SOLUTIONS_AS_OBJECT', false);\nsol = nerdamer('solveEquations([2*x^2*z-y=-59, 0.5*y^3-z=65.5, x^2+y^3-5*z^2=89])');\nconsole.log(sol.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/solveFor.html",content:{name:"solveFor",subname:"solveFor",description:"\n                        This method requires that the Solve, Calculus, and Algebra add-ons are loaded. It will attempt to solve an equation. If solutions no solutions are found then\n                      an empty array is returned. It can solve for multivariate polynomials up to the third degree. After which it can solve numerically for polynomials up to the\n                      the 100th degree. If it's a univariate equation it will attempt to solve it using numerical methods.\n                    ",usage:'nerdamer("nerdamer(equation).solveFor(variable)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">variable </span>\n    </td>\n    <td><span class="parameter-description">The variable to solve for.</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression[]\n                    ",example:"\n                    <pre><code class=\"javascript\">var eq = nerdamer('a*x^2+b*x=y').evaluate({y: 'x-7'});\nconsole.log(eq.toString());\nvar solutions = eq.solveFor('x').toString();\nconsole.log(solutions);</code></pre>\n                "}}]},9:{category:"Extra","sub-category":"functions",data:[{url:"https://nerdamer.com/functions/laplace.html",content:{name:"laplace",subname:"Laplace",description:"\n                        Attempts to calculate the Laplace transform of an expression. Currently computes transforms of most common expressions. Throws an error if no transform could be calculated.\n                    ",usage:'nerdamer("laplace(expression, t, s)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">expression </span>\n    </td>\n    <td><span class="parameter-description">The expression to be transformed</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">variable </span>\n        <span class="parameter-name">t </span>\n    </td>\n    <td><span class="parameter-description">The time variable</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">variable </span>\n        <span class="parameter-name">s </span>\n    </td>\n    <td><span class="parameter-description">The transformation variable</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('laplace(t^6, t, s)').evaluate();\nconsole.log(x.toString());\nx = nerdamer.laplace('cos(w*t)', 't', 'x');\nconsole.log(x.toString())\nx = nerdamer.laplace('cos(w*t)*t', 't', 'x');\nconsole.log(x.toString())</code></pre>\n                "}},{url:"https://nerdamer.com/functions/ilt.html",content:{name:"ilt",subname:"inverse Laplace (Under development)",description:"\n                        Attempts to calculate the inverse Laplace transform of an expression. Currently computes transforms of most common expressions. Throws and error if no transform could be calculated. This is still being developed so please report any issues.\n                    ",usage:'nerdamer("ilt(expression, s, t)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">expression </span>\n    </td>\n    <td><span class="parameter-description">The expression to be transformed</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">variable </span>\n        <span class="parameter-name">s </span>\n    </td>\n    <td><span class="parameter-description">The transformation variable</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">variable </span>\n        <span class="parameter-name">t </span>\n    </td>\n    <td><span class="parameter-description">The time variable</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('ilt(factorial(6)*s^(-7),s, t)').evaluate();\nconsole.log(x.toString());\nvar y = nerdamer('ilt((1+s^2)^(-1)*s, s, t)').evaluate();\nconsole.log(y.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/mean.html",content:{name:"mean",subname:"mean",description:"\n                        Calculates the mean of a set of numbers\n                    ",usage:'nerdamer("mean(... args)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression | expression[] </span>\n        <span class="parameter-name">args </span>\n    </td>\n    <td><span class="parameter-description">A variable number of arguments</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('mean(4,2,5)');\nconsole.log(x.toString());\nx = nerdamer('mean([4,2,5])');\nconsole.log(x.toString());\nx = nerdamer.mean('x', 'r+1', '21', 'tan(x)');\nconsole.log(x.toString());\nx = nerdamer.mean('11', '12', '13', '14');\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/mode.html",content:{name:"mode",subname:"mode",description:"\n                        Calculates the mode of a set of numbers. Returns a symbolic function if mode cannot be calculated.\n                    ",usage:'nerdamer("mode(... args)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression | expression[] </span>\n        <span class="parameter-name">args </span>\n    </td>\n    <td><span class="parameter-description">A variable number of arguments</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('mode(4,2,5,4)').evaluate();\nconsole.log(x.toString());\nx = nerdamer('mode([4,2,5,4])').evaluate();\nconsole.log(x.toString());\nx = nerdamer.mode('11', '12', '13', '14').evaluate();\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/median.html",content:{name:"median",subname:"median",description:"\n                        Calculates the median of a set of numbers. Return symbolic function of median cannot be calculated.\n                    ",usage:'nerdamer("median(... args)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression | expression[] </span>\n        <span class="parameter-name">args </span>\n    </td>\n    <td><span class="parameter-description">A variable number of arguments</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('median(4,2,5,4)').evaluate();\nconsole.log(x.toString());\nx = nerdamer('median([4,2,5,4])').evaluate();\nconsole.log(x.toString());\nx = nerdamer.median('x', 'r+1', '21', 'tan(x)', 'r+1');\nconsole.log(x.toString());\nx = nerdamer.median('11', '12', '13', '14').evaluate();\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/zscore.html",content:{name:"zscore",subname:"Z-score",description:"\n                        Calculates the z-score for a value.\n                    ",usage:'nerdamer("zscore(x, mean, stdev)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">The value for which to find the z-score.</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">mean </span>\n    </td>\n    <td><span class="parameter-description">The mean of the set of numbers.</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">stdev </span>\n    </td>\n    <td><span class="parameter-description">The standard deviation of the set of numbers.</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">nerdamer.setVar('x', '[3,1,2,6]');\nvar x = nerdamer('zscore(2, mean(x), stdev(x))');\nconsole.log(x.toString());\nx = x.evaluate()\nconsole.log(x.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/limit.html",content:{name:"limit",subname:"Limit",description:"\n                        Attempts to calculate the limit of a function.\n                    ",usage:'nerdamer("limit(expression, variable, limit)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression </span>\n        <span class="parameter-name">expression </span>\n    </td>\n    <td><span class="parameter-description">The expression to be transformed</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">variable </span>\n        <span class="parameter-name">variable </span>\n    </td>\n    <td><span class="parameter-description">The variable</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">limit </span>\n        <span class="parameter-name">limit </span>\n    </td>\n    <td><span class="parameter-description">The limit</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('limit(x^x-1,x,0)');\nconsole.log(x.toString());\nvar y = nerdamer('limit((x^2+2*x-3)/(x^6+4),x,0)');\nconsole.log(y.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/smpvar.html",content:{name:"smpvar",subname:"Sample variance",description:"\n                        Calculates the sample variance of a set of numbers. Return symbolic function of median cannot be calculated.\n                    ",usage:'nerdamer("smpvar(... args)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression | expression[] </span>\n        <span class="parameter-name">args </span>\n    </td>\n    <td><span class="parameter-description">A variable number of arguments</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('smpvar(4,2,5,4)').evaluate();\nconsole.log(x.text());\nx = nerdamer('smpvar([4,2,5])');\nconsole.log(x.toString());\nx = nerdamer.smpvar('x', 'r+1', '21', 'tan(x)', 'r+1');\nconsole.log(x.toString());\nx = nerdamer.smpvar('11', '12', '13', '14').evaluate();\nconsole.log(x.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/variance.html",content:{name:"variance",subname:"Variance",description:"\n                        Calculates the population variance of a set of numbers. Return symbolic function of median cannot be calculated.\n                    ",usage:'nerdamer("variance(... args)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression | expression[] </span>\n        <span class="parameter-name">args </span>\n    </td>\n    <td><span class="parameter-description">A variable number of arguments</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('variance(4,2,5,4)').evaluate();\nconsole.log(x.text());\nx = nerdamer('variance([4,2,5])');\nconsole.log(x.toString());\nx = nerdamer.variance('x', 'r+1', '21', 'tan(x)', 'r+1');\nconsole.log(x.toString());\nx = nerdamer.variance('11', '12', '13', '14').evaluate();\nconsole.log(x.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/smpstdev.html",content:{name:"smpstdev",subname:"Sample standard deviation",description:"\n                        Calculates the sample standard deviation of a set of numbers. Return symbolic function of median cannot be calculated.\n                    ",usage:'nerdamer("smpstdev(... args)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression | expression[] </span>\n        <span class="parameter-name">args </span>\n    </td>\n    <td><span class="parameter-description">A variable number of arguments</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('smpstdev(4,2,5,4)').evaluate();\nconsole.log(x.text());\nx = nerdamer('smpstdev([4,2,5])');\nconsole.log(x.toString());\nx = nerdamer.smpstdev('x', 'r+1', '21', 'tan(x)', 'r+1');\nconsole.log(x.toString());\nx = nerdamer.smpstdev('11', '12', '13', '14').evaluate();\nconsole.log(x.text());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/stdev.html",content:{name:"stdev",subname:"Standard deviation",description:"\n                        Calculates the population standard deviation of a set of numbers. Return symbolic function of median cannot be calculated.\n                    ",usage:'nerdamer("stdev(... args)")',parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">expression | expression[] </span>\n        <span class="parameter-name">args </span>\n    </td>\n    <td><span class="parameter-description">A variable number of arguments</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('stdev(4,2,5,4)').evaluate();\nconsole.log(x.text());\nx = nerdamer('stdev([4,2,5])');\nconsole.log(x.toString());\nx = nerdamer.stdev('x', 'r+1', '21', 'tan(x)', 'r+1');\nconsole.log(x.toString());\nx = nerdamer.stdev('11', '12', '13', '14').evaluate();\nconsole.log(x.text());</code></pre>\n                "}}]},10:{category:"Expression","sub-category":"API",data:[{url:"https://nerdamer.com/functions/Expression.buildFunction.html",content:{name:"Expression.buildFunction",subname:"buildFunction",description:"\n                        Generates a JavaScript function given the expression. This is perfect for plotting and filtering user input. Plotting for the demo is accomplished \n                     using this. The order of the function parameters is in alphabetical order by default but an array containing the list of arguments \n                     in the preferred order can be passed to the function.\n                    ",usage:"nerdamer(expression).buildFunction(args_array)",parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">String[] </span>\n        <span class="parameter-name">args_array </span>\n    </td>\n    <td><span class="parameter-description">The argument array with the order in which they are preferred.</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Function\n                    ",example:"\n                    <pre><code class=\"javascript\">var e = nerdamer('x^2+y');\nvar f = e.buildFunction();\nconsole.log(f(2, 3));\n//change the variable order by passing in an array with the order\nvar g = e.buildFunction(['y', 'x']);\nconsole.log(g(2, 3));</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Expression.evaluate.html",content:{name:"Expression.evaluate",subname:"evaluate",description:"\n                        Forces evaluation of the expression.\n                    ",usage:"nerdamer(expression).evaluate()",parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type"> </span>\n        <span class="parameter-name">none </span>\n    </td>\n    <td><span class="parameter-description">This function takes no arguments</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('sin(9+5)');\n//the expression is simplified but the functions aren't called.\nconsole.log(x.toString());\n//force function calls with evaluate\nconsole.log(x.evaluate().toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Expression.sub.html",content:{name:"Expression.sub",subname:"substitute",description:"\n                        Substitutes a given value with another given value.\n                    ",usage:"nerdamer(expression).sub(value, for_value)",parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">value </span>\n    </td>\n    <td><span class="parameter-description">The value being substituted.</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">for_value </span>\n    </td>\n    <td><span class="parameter-description">The value to substitute for.</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('3*(x+1)^3+8*(x+1)^2+u').sub('x+1', 'u');\nconsole.log(x.toString());\nx = nerdamer('cos(x)*tan(x)').sub('tan(x)', 'sin(x)/cos(x)').evaluate()\nconsole.log(x.toString());\n//one more\nx = nerdamer('(x+1)*cos(x+1)').sub('x+1', 'u');\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Expression.add.html",content:{name:"Expression.add",subname:"add",description:"\n                        Adds two expressions.\n                    ",usage:"nerdamer(x).add(y)",parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Expression 1</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">y </span>\n    </td>\n    <td><span class="parameter-description">Expression 2</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('x+1').add('x');\nconsole.log(x.toString());\nvar x = nerdamer(0.1).add(0.2);\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Expression.subtract.html",content:{name:"Expression.subtract",subname:"subtract",description:"\n                        Subtracts two expressions.\n                    ",usage:"nerdamer(x).subtract(y)",parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Expression 1</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">y </span>\n    </td>\n    <td><span class="parameter-description">Expression 2</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('x+1').subtract('x');\nconsole.log(x.toString());\nvar x = nerdamer(0.1).subtract(0.2);\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Expression.multiply.html",content:{name:"Expression.multiply",subname:"multiply",description:"\n                        Multiplies two expressions.\n                    ",usage:"nerdamer(x).multiply(y)",parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Expression 1</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">y </span>\n    </td>\n    <td><span class="parameter-description">Expression 2</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var a = nerdamer('x');\nvar x = nerdamer('x+1').multiply(a);\nconsole.log(x.toString());\nvar x = nerdamer(0.1).multiply(0.2);\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Expression.divide.html",content:{name:"Expression.divide",subname:"divide",description:"\n                        Divides one expression by another.\n                    ",usage:"nerdamer(x).divide(y)",parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Expression 1</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">y </span>\n    </td>\n    <td><span class="parameter-description">Expression 2</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('x^2+x').divide('x').expand();\nconsole.log(x.toString());\nx = nerdamer(0.1).multiply(0.2);\nconsole.log(x.toString());\nvar a = nerdamer('(x+a)(y+b)');\nvar b = nerdamer('2(y+b)');\nconsole.log(a.divide(b).toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Expression.pow.html",content:{name:"Expression.pow",subname:"power",description:"\n                        Raises one expression to another.\n                    ",usage:"nerdamer(x).pow(y)",parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Expression 1</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">y </span>\n    </td>\n    <td><span class="parameter-description">Expression 2</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('x^2+x').pow('x');\nconsole.log(x.toString());\nvar x = nerdamer(5).pow(2);\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Expression.variables.html",content:{name:"Expression.variables",subname:"variables",description:"\n                        Get a list of the variables contained within the expression.\n                    ",usage:"nerdamer(expression).variables()",parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type"> </span>\n        <span class="parameter-name">none </span>\n    </td>\n    <td><span class="parameter-description">This function takes no arguments.</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        String[]\n                    ",example:"\n                    <pre><code class=\"javascript\">var e = nerdamer('x^2+y-a*e');\nvar variables = e.variables();\nconsole.log(variables);\ne = nerdamer('a*b*c^r+1');\nvariables = e.variables();\nconsole.log(variables);</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Expression.toTeX.html",content:{name:"Expression.toTeX",subname:"toTeX",description:"\n                        Gets expression as LaTeX\n                    ",usage:"nerdamer.toTeX",parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type"> </span>\n        <span class="parameter-name">none </span>\n    </td>\n    <td><span class="parameter-description">This function takes no arguments.</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        String\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('(x+1)*cos(x+1)');\nconsole.log(x.toTeX());\nx = nerdamer('1/2*x+2*b/5*x^2');\nconsole.log(x.toTeX());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Expression.text.html",content:{name:"Expression.text",subname:"text",description:"\n                        Returns the text representation of the expression.\n                    ",usage:"nerdamer.text(option, n)",parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">option </span>\n    </td>\n    <td><span class="parameter-description">Pass in the string \'decimals\' to get back the number as decimals. Pass in the string \'recurring\' to get back the number as a recurring decimal. Pass in the string \'fractions\' to get back the number as fractions. Defaults to decimals.</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">n </span>\n    </td>\n    <td><span class="parameter-description">The number of decimal places if requested as decimal</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        String\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('1/12+1/2*cos(x)-0.5');\nconsole.log(x.text('decimals'));\nconsole.log(x.text('decimals', 1));\nconsole.log(x.text('decimals', 7));\nconsole.log(x.text('recurring'));\nconsole.log(x.text('fractions'));</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Expression.denominator.html",content:{name:"Expression.denominator",subname:"denominator",description:"\n                        Get a list of the denominator of a polynomial\n                    ",usage:"nerdamer(expression).denominator()",parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type"> </span>\n        <span class="parameter-name">none </span>\n    </td>\n    <td><span class="parameter-description">This function takes no arguments.</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var e = nerdamer('(x^2+1)/(x-1)');\nvar denominator = e.denominator().toString();\nconsole.log(denominator);\ne = nerdamer('2/5');\ndenominator = e.denominator().toString();\nconsole.log(denominator);</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Expression.numerator.html",content:{name:"Expression.numerator",subname:"numerator",description:"\n                        Get a list of the numerator of a polynomial\n                    ",usage:"nerdamer(expression).numerator()",parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type"> </span>\n        <span class="parameter-name">none </span>\n    </td>\n    <td><span class="parameter-description">This function takes no arguments.</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Expression\n                    ",example:"\n                    <pre><code class=\"javascript\">var e = nerdamer('(x^2+1)/(x-1)');\nvar numerator = e.numerator().toString();\nconsole.log(numerator);\ne = nerdamer('2/5');\nnumerator = e.numerator().toString();\nconsole.log(numerator);</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Expression.eq.html",content:{name:"Expression.eq",subname:"equals",description:"\n                        Checks for equality of two expressions.\n                    ",usage:"nerdamer(x).eq(y)",parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Expression 1</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">y </span>\n    </td>\n    <td><span class="parameter-description">Expression 2</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Boolean\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('sqrt(2)').eq('2^(1/2)');\nconsole.log(x.toString());\nvar x = nerdamer(5).eq(2);\nconsole.log(x.toString());\nvar x = nerdamer('a+1').eq('a+1');\nconsole.log(x.toString());\nvar x = nerdamer('Infinity').eq('Infinity');\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Expression.lt.html",content:{name:"Expression.lt",subname:"less than",description:"\n                        Checks if one expression is less than other.\n                    ",usage:"nerdamer(x).lt(y)",parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Expression 1</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">y </span>\n    </td>\n    <td><span class="parameter-description">Expression 2</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Boolean\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('sqrt(2)').lt('2^(1/2)');\nconsole.log(x.toString());\nvar x = nerdamer(5).lt(2);\nconsole.log(x.toString());\nvar x = nerdamer('a').lt('a+1');\nconsole.log(x.toString());\nvar x = nerdamer('Infinity').lt('Infinity');\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Expression.gt.html",content:{name:"Expression.gt",subname:"greater than",description:"\n                        Checks if one expression is greater than other.\n                    ",usage:"nerdamer(x).gt(y)",parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Expression 1</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">y </span>\n    </td>\n    <td><span class="parameter-description">Expression 2</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Boolean\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('sqrt(2)').gt('2^(1/2)');\nconsole.log(x.toString());\nvar x = nerdamer(5).gt(2);\nconsole.log(x.toString());\nvar x = nerdamer('a+1').gt('a+1');\nconsole.log(x.toString());\nvar x = nerdamer('Infinity').gt('Infinity');\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Expression.lte.html",content:{name:"Expression.lte",subname:"less than or equals",description:"\n                        Checks if one expression is less than, or equal to, other.\n                    ",usage:"nerdamer(x).lte(y)",parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Expression 1</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">y </span>\n    </td>\n    <td><span class="parameter-description">Expression 2</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Boolean\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('sqrt(2)').lte('2^(1/2)');\nconsole.log(x.toString());\nvar x = nerdamer(5).lte(2);\nconsole.log(x.toString());\nvar x = nerdamer('a+1').lte('a+1');\nconsole.log(x.toString());\nvar x = nerdamer('Infinity').lte('Infinity');\nconsole.log(x.toString());</code></pre>\n                "}},{url:"https://nerdamer.com/functions/Expression.gte.html",content:{name:"Expression.gte",subname:"greater than or equals",description:"\n                        Checks if one expression is greater than, or equal to, other.\n                    ",usage:"nerdamer(x).gte(y)",parameters:'\n                        <table class="table table-responsive table-condensed">\n                            <tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">x </span>\n    </td>\n    <td><span class="parameter-description">Expression 1</span></td>\n</tr><tr>\n    <td>\n        <span class="parameter-type">String </span>\n        <span class="parameter-name">y </span>\n    </td>\n    <td><span class="parameter-description">Expression 2</span></td>\n</tr>\n                        </table>\n                    ',returns:"\n                        Boolean\n                    ",example:"\n                    <pre><code class=\"javascript\">var x = nerdamer('sqrt(2)').gte('2^(1/2)');\nconsole.log(x.toString());\nvar x = nerdamer(5).gte(2);\nconsole.log(x.toString());\nvar x = nerdamer('a+1').gte('a+1');\nconsole.log(x.toString());\nvar x = nerdamer('Infinity').gte('Infinity');\nconsole.log(x.toString());</code></pre>\n                "}}]}};return(r=r||{}).Firepad=function(e){if(!r.RichTextCodeMirrorAdapter)throw new Error("Oops! It looks like you're trying to include lib/firepad.js directly.  This is actually one of many source files that make up firepad.  You want dist/firepad.js instead.");var t=r.RichTextCodeMirrorAdapter,n=r.RichTextCodeMirror,s=r.RichTextToolbar,a=r.ACEAdapter,o=r.MonacoAdapter,p=r.FirebaseAdapter,l=r.EditorClient,c=r.EntityManager,d=r.AttributeConstants,u=r.utils,m=(r.LineFormatting.LIST_TYPE,e.CodeMirror),h=e.ace;e.monaco;function f(r,s,i){if(!(this instanceof f))return new f(r,s,i);if(!m&&!h&&!e.monaco)throw new Error("Couldn't find CodeMirror, ACE or Monaco.  Did you forget to include codemirror.js/ace.js or import monaco?");if(this.zombie_=!1,m&&s instanceof m){this.codeMirror_=this.editor_=s;var d=this.codeMirror_.getValue();if(""!==d)throw new Error("Can't initialize Firepad with a CodeMirror instance that already contains text.")}else if(h&&s&&s.session instanceof h.EditSession){if(this.ace_=this.editor_=s,""!==(d=this.ace_.getValue()))throw new Error("Can't initialize Firepad with an ACE instance that already contains text.")}else if(e.monaco&&s&&s instanceof e.monaco.constructor){if(e.monaco,this.monaco_=this.editor_=s,""!==(d=this.monaco_.getValue()))throw new Error("Can't initialize Firepad with a Monaco instance that already contains text.")}else this.codeMirror_=this.editor_=new m(s);var x;x=this.codeMirror_?this.codeMirror_.getWrapperElement():this.ace_?this.ace_.container:this.monaco_.getDomNode(),this.firepadWrapper_=u.elt("div",null,{class:"firepad"}),x.parentNode.replaceChild(this.firepadWrapper_,x),this.firepadWrapper_.appendChild(x),this.editor_.firepad=this,this.options_=i||{},this.getOption("richTextShortcuts",!1)&&(m.keyMap.richtext||this.initializeKeyMap_(),this.codeMirror_.setOption("keyMap","richtext"),this.firepadWrapper_.className+=" firepad-richtext"),this.imageInsertionUI=this.getOption("imageInsertionUI",!0),this.getOption("richTextToolbar",!1)&&(this.addToolbar_(),this.firepadWrapper_.className+=" firepad-richtext firepad-with-toolbar"),this.addPoweredByLogo_(),this.codeMirror_&&this.codeMirror_.refresh();var v=this.getOption("userId",r.push().key),b=this.getOption("userColor",function(e){for(var t=1,n=0;n<e.length;n++)t=17*(t+e.charCodeAt(n))%360;return function(e,t,n){if(0===t)return g(n,n,n);var r=n<.5?n*(1+t):n+t-t*n,s=2*n-r,a=function(e){return e<0&&(e+=1),e>1&&(e-=1),6*e<1?s+6*(r-s)*e:2*e<1?r:3*e<2?s+6*(r-s)*(2/3-e):s};return g(a(e+1/3),a(e),a(e-1/3))}(t/360,1,.75)}(v));this.entityManager_=new c,this.firebaseAdapter_=new p(r,v,b),this.codeMirror_?(this.richTextCodeMirror_=new n(this.codeMirror_,this.entityManager_,{cssPrefix:"firepad-"}),this.editorAdapter_=new t(this.richTextCodeMirror_)):this.ace_?this.editorAdapter_=new a(this.ace_):this.editorAdapter_=new o(this.monaco_),this.client_=new l(this.firebaseAdapter_,this.editorAdapter_);var y=this;this.firebaseAdapter_.on("cursor",function(){y.trigger.apply(y,["cursor"].concat([].slice.call(arguments)))}),this.codeMirror_&&this.richTextCodeMirror_.on("newLine",function(){y.trigger.apply(y,["newLine"].concat([].slice.call(arguments)))}),this.firebaseAdapter_.on("ready",function(){y.ready_=!0,this.ace_&&this.editorAdapter_.grabDocumentState(),this.monaco_&&this.editorAdapter_.grabDocumentState();var e=y.getOption("defaultText",null);e&&y.isHistoryEmpty()&&(y.setText(e),MathJax.typeset()),y.trigger("ready")}),this.client_.on("synced",function(e){y.trigger("synced",e)}),"Microsoft Internet Explorer"==navigator.appName&&navigator.userAgent.match(/MSIE 8\./)&&(window.onload=function(){var e=document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",t.styleSheet.cssText=":before,:after{content:none !important;}",e.appendChild(t),setTimeout(function(){e.removeChild(t)},0)})}function g(e,t,n){function r(e){var t=Math.round(255*e).toString(16);return 1===t.length?"0"+t:t}return"#"+r(e)+r(t)+r(n)}return u.makeEventEmitter(f),f.fromCodeMirror=f,f.fromACE=f,f.fromMonaco=f,f.prototype.dispose=function(){this.zombie_=!0,this.codeMirror_?editorWrapper=this.codeMirror_.getWrapperElement():this.ace_?editorWrapper=this.ace_.container:editorWrapper=this.monaco_.getDomNode(),this.firepadWrapper_.removeChild(editorWrapper),this.firepadWrapper_.parentNode.replaceChild(editorWrapper,this.firepadWrapper_),this.editor_.firepad=null,this.codeMirror_&&"richtext"===this.codeMirror_.getOption("keyMap")&&this.codeMirror_.setOption("keyMap","default"),this.firebaseAdapter_.dispose(),this.editorAdapter_.detach(),this.richTextCodeMirror_&&this.richTextCodeMirror_.detach()},f.prototype.setUserId=function(e){this.firebaseAdapter_.setUserId(e)},f.prototype.setUserColor=function(e){this.firebaseAdapter_.setColor(e)},f.prototype.getText=function(){return this.assertReady_("getText"),this.codeMirror_?this.richTextCodeMirror_.getText():this.ace_?this.ace_.getSession().getDocument().getValue():this.monaco_.getModel().getValue()},f.prototype.setText=function(e){return this.assertReady_("setText"),this.monaco_?this.monaco_.getModel().setValue(e):this.ace_?this.ace_.getSession().getDocument().setValue(e):(this.codeMirror_.getWrapperElement().style.display="none",this.codeMirror_.setValue(""),this.insertText(0,e),this.codeMirror_.getWrapperElement().style.display="",this.codeMirror_.refresh(),void this.editorAdapter_.setCursor({position:0,selectionEnd:0}))},f.prototype.insertTextAtCursor=function(e){this.insertText(this.codeMirror_.indexFromPos(this.codeMirror_.getCursor()),e)},f.prototype.insertText=function(e,t){u.assert(!this.ace_,"Not supported for ace yet."),u.assert(!this.monaco_,"Not supported for monaco yet."),this.assertReady_("insertText"),"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]);var n=this;n.codeMirror_.operation(function(){for(var s=0===e,a=r.textPiecesToInserts(s,t),o=0;o<a.length;o++){var i=a[o].string,p=a[o].attributes;n.richTextCodeMirror_.insertText(e,i,p),e+=i.length}})},f.prototype.getOperationForSpan=function(e,t){for(var n=this.richTextCodeMirror_.getRange(e,t),s=this.richTextCodeMirror_.getAttributeSpans(e,t),a=0,o=new r.TextOperation,i=0;i<s.length;i++)o.insert(n.substr(a,s[i].length),s[i].attributes),a+=s[i].length;return o},f.prototype.getHtml=function(){return this.getHtmlFromRange(null,null)},f.prototype.getHtmlFromSelection=function(){var e=this.codeMirror_.getCursor("start"),t=this.codeMirror_.getCursor("end"),n=this.codeMirror_.indexFromPos(e),r=this.codeMirror_.indexFromPos(t);return this.getHtmlFromRange(n,r)},f.prototype.getHtmlFromRange=function(e,t){this.assertReady_("getHtmlFromRange");var n=null!=e&&null!=t?this.getOperationForSpan(e,t):this.getOperationForSpan(0,this.codeMirror_.getValue().length);return r.SerializeHtml(n,this.entityManager_)},f.prototype.insertHtml=function(e,t){var n=r.ParseHtml(t,this.entityManager_);this.insertText(e,n)},f.prototype.insertHtmlAtCursor=function(e){this.insertHtml(this.codeMirror_.indexFromPos(this.codeMirror_.getCursor()),e)},f.prototype.setHtml=function(e){var t=r.ParseHtml(e,this.entityManager_);this.setText(t)},f.prototype.isHistoryEmpty=function(){return this.assertReady_("isHistoryEmpty"),this.firebaseAdapter_.isHistoryEmpty()},f.prototype.bold=function(){this.richTextCodeMirror_.toggleAttribute(d.BOLD),this.codeMirror_.focus()},f.prototype.italic=function(){this.richTextCodeMirror_.toggleAttribute(d.ITALIC),this.codeMirror_.focus()},f.prototype.underline=function(){this.richTextCodeMirror_.toggleAttribute(d.UNDERLINE),this.codeMirror_.focus()},f.prototype.strike=function(){this.richTextCodeMirror_.toggleAttribute(d.STRIKE),this.codeMirror_.focus()},f.prototype.fontSize=function(e){this.richTextCodeMirror_.setAttribute(d.FONT_SIZE,e),this.codeMirror_.focus()},f.prototype.font=function(e){this.richTextCodeMirror_.setAttribute(d.FONT,e),this.codeMirror_.focus()},f.prototype.color=function(e){this.richTextCodeMirror_.setAttribute(d.COLOR,e),this.codeMirror_.focus()},f.prototype.highlight=function(){this.richTextCodeMirror_.toggleAttribute(d.BACKGROUND_COLOR,"rgba(255,255,0,.65)"),this.codeMirror_.focus()},f.prototype.align=function(e){if("left"!==e&&"center"!==e&&"right"!==e)throw new Error('align() must be passed "left", "center", or "right".');this.richTextCodeMirror_.setLineAttribute(d.LINE_ALIGN,e),this.codeMirror_.focus()},f.prototype.orderedList=function(){this.richTextCodeMirror_.toggleLineAttribute(d.LIST_TYPE,"o"),this.codeMirror_.focus()},f.prototype.unorderedList=function(){this.richTextCodeMirror_.toggleLineAttribute(d.LIST_TYPE,"u"),this.codeMirror_.focus()},f.prototype.todo=function(){this.richTextCodeMirror_.toggleTodo(),this.codeMirror_.focus()},f.prototype.newline=function(){this.richTextCodeMirror_.newline()},f.prototype.deleteLeft=function(){this.richTextCodeMirror_.deleteLeft()},f.prototype.deleteRight=function(){this.richTextCodeMirror_.deleteRight()},f.prototype.indent=function(){this.richTextCodeMirror_.indent(),this.codeMirror_.focus()},f.prototype.unindent=function(){this.richTextCodeMirror_.unindent(),this.codeMirror_.focus()},f.prototype.undo=function(){this.codeMirror_.undo()},f.prototype.redo=function(){this.codeMirror_.redo()},f.prototype.insertEntity=function(e,t,n){this.richTextCodeMirror_.insertEntityAtCursor(e,t,n)},f.prototype.insertEntityAt=function(e,t,n,r){this.richTextCodeMirror_.insertEntityAt(e,t,n,r)},f.prototype.registerEntity=function(e,t){this.entityManager_.register(e,t)},f.prototype.getOption=function(e,t){return e in this.options_?this.options_[e]:t},f.prototype.assertReady_=function(e){if(!this.ready_)throw new Error('You must wait for the "ready" event before calling '+e+".");if(this.zombie_)throw new Error("You can't use a Firepad after calling dispose()!  [called "+e+"]")},f.prototype.makeImageDialog_=function(){this.makeDialog_("img","Insert image url")},f.prototype.makeDialog_=function(e,t){var n=this,r=u.elt("input",null,{class:"firepad-dialog-input",id:e,type:"text",placeholder:t,autofocus:"autofocus"}),s=u.elt("a","Submit",{class:"firepad-btn",id:"submitbtn"});u.on(s,"click",u.stopEventAnd(function(){var t=document.getElementById("overlay");t.style.visibility="hidden";var r=document.getElementById(e).value;null!==r&&n.insertEntity(e,{src:r}),n.firepadWrapper_.removeChild(t)}));var a=u.elt("a","Cancel",{class:"firepad-btn"});u.on(a,"click",u.stopEventAnd(function(){var e=document.getElementById("overlay");e.style.visibility="hidden",n.firepadWrapper_.removeChild(e)}));var o=u.elt("div",[s,a],{class:"firepad-btn-group"}),i=u.elt("div",[r,o],{class:"firepad-dialog-div"}),p=u.elt("div",[i],{class:"firepad-dialog",id:"overlay"});this.firepadWrapper_.appendChild(p),MathJax.typeset()},f.prototype.makeGraph_=function(){var e=this;window.ggbApplet&&ggbApplet.newConstruction&&ggbApplet.newConstruction();var t=function(){var e=ggbApplet.getPNGBase64(1,!0,72);document.getElementById("graphImg_").value=e},n=u.elt("div",null,{id:"modal"}),r=u.elt("a","Submit",{class:"firepad-btn",id:"submitbtn"});u.on(r,"click",u.stopEventAnd(function(){var n=document.getElementById("overlay");t(),n.style.visibility="hidden";var r="data:image/png;base64,"+document.getElementById("graphImg_").value;null!==r&&e.insertEntity("img",{src:r}),e.firepadWrapper_.removeChild(n)}));var s=u.elt("a","Cancel",{class:"firepad-btn"});u.on(s,"click",u.stopEventAnd(function(){var t=document.getElementById("overlay");t.style.visibility="hidden",e.firepadWrapper_.removeChild(t)}));var a=u.elt("div",[r,s],{class:"firepad-btn-group"}),o=u.elt("textarea",null,{id:"graphImg_"}),i=u.elt("textarea",null,{id:"graphImg__"}),p=u.elt("div",[n,o,i,a],{class:"firepad-dialog-div-graph"}),l=u.elt("div",[p],{class:"firepad-dialog",id:"overlay"});this.firepadWrapper_.appendChild(l),applet=new GGBApplet({appname:"clasic",id:"ggbApplet",width:800,height:600,showToolBar:!0,showMenuBar:!0,allowStyleBar:!0,showAlgebraInput:!0,enableLabelDrags:!1,enableShiftDragZoom:!0,capturingThreshold:null,errorDialogsActive:!0,useBrowserForJS:!0,disableAutoScale:!0,useBrowserForJS:!1},!0),applet.inject("modal")},f.prototype.mathsDialog_=function(){var e=this,t=function(){var e=$("#maths-input").val();Object.entries(i).forEach(([t,n])=>{for(let t=0;t<n.data.length;t++){const r=n.data[t].content;r.name.includes(e)?$("div#ul ul").append(`<li>${r.name}<strong>${r.usage.split('"')[1]}</strong><p><i>${r.description}:</i> e.g <div style="background-color: #f2f3f4; border-radius: 3px; padding: 5px">${r.example}</b> ${r.url}</div></p></li>`):$("div#ul ul").empty()}});let t=nerdamer(e).toTeX();document.getElementById("maths_").innerText="\\( "+t+" \\)",MathJax.typeset()},n=u.elt("textarea",null,{class:"firepad-dialog-input",id:"maths-input",placeholder:"Start typing here...",autofocus:"autofocus"});u.on(n,"change",u.stopEventAnd(t)),u.on(n,"keyup",u.stopEventAnd(t));var r=u.elt("a","Evaluate",{class:"firepad-btn",id:"evaluateBtn"});u.on(r,"click",function(){let e=document.getElementById("maths-input").value,t=nerdamer(e).toTeX(),n=nerdamer(e).evaluate().text();document.getElementById("maths_").innerText="\\( "+t+" = "+n+" \\)",MathJax.typeset()});var s=u.elt("div",[r],{class:"b"}),a=u.elt("ul",null,{id:"drop-ul"}),o=u.elt("div",[a],{id:"ul"}),p=u.elt("div",[n,s],{class:"evalDiv"}),l=u.elt("a","Submit",{class:"firepad-btn",id:"submitbtn"});u.on(l,"click",u.stopEventAnd(function(){var t=document.getElementById("overlay");if(t.style.visibility="hidden",null!==document.getElementById("maths-input").value)var n=document.getElementById("maths_").innerHTML;e.insertHtmlAtCursor(n),e.firepadWrapper_.removeChild(t)}));var c=u.elt("a","Cancel",{class:"firepad-btn"});u.on(c,"click",u.stopEventAnd(function(){var t=document.getElementById("overlay");t.style.visibility="hidden",e.firepadWrapper_.removeChild(t)}));var d=u.elt("div",[l,c],{class:"firepad-btn-group"}),m=u.elt("div",null,{id:"maths_"}),h=u.elt("div",[p,m,o,d],{class:"firepad-dialog-div"}),f=u.elt("div",[h],{class:"firepad-dialog",id:"overlay"});this.firepadWrapper_.appendChild(f),MathJax.typeset()},f.prototype.addToolbar_=function(){this.toolbar=new s(this.imageInsertionUI),this.toolbar.on("undo",this.undo,this),this.toolbar.on("redo",this.redo,this),this.toolbar.on("bold",this.bold,this),this.toolbar.on("italic",this.italic,this),this.toolbar.on("underline",this.underline,this),this.toolbar.on("strike",this.strike,this),this.toolbar.on("font-size",this.fontSize,this),this.toolbar.on("font",this.font,this),this.toolbar.on("color",this.color,this),this.toolbar.on("left",function(){this.align("left")},this),this.toolbar.on("center",function(){this.align("center")},this),this.toolbar.on("right",function(){this.align("right")},this),this.toolbar.on("ordered-list",this.orderedList,this),this.toolbar.on("unordered-list",this.unorderedList,this),this.toolbar.on("todo-list",this.todo,this),this.toolbar.on("indent-increase",this.indent,this),this.toolbar.on("indent-decrease",this.unindent,this),this.toolbar.on("insert-image",this.makeImageDialog_,this),this.toolbar.on("insert-graph",this.makeGraph_,this),this.toolbar.on("solve-graph",this.mathsDialog_,this),this.firepadWrapper_.insertBefore(this.toolbar.element(),this.firepadWrapper_.firstChild)},f.prototype.addPoweredByLogo_=function(){var e=u.elt("a",null,{class:"powered-by-firepad"});e.setAttribute("href","http://www.firepad.io/"),e.setAttribute("target","_blank"),this.firepadWrapper_.appendChild(e)},f.prototype.initializeKeyMap_=function(){function e(e){return function(t){setTimeout(function(){e.call(t.firepad)},0)}}m.keyMap.richtext={"Ctrl-B":e(this.bold),"Cmd-B":e(this.bold),"Ctrl-I":e(this.italic),"Cmd-I":e(this.italic),"Ctrl-U":e(this.underline),"Cmd-U":e(this.underline),"Ctrl-H":e(this.highlight),"Cmd-H":e(this.highlight),Enter:e(this.newline),Delete:e(this.deleteRight),Backspace:e(this.deleteLeft),Tab:e(this.indent),"Shift-Tab":e(this.unindent),fallthrough:["default"]}},f}(this),r.Firepad.Formatting=r.Formatting,r.Firepad.Text=r.Text,r.Firepad.Entity=r.Entity,r.Firepad.LineFormatting=r.LineFormatting,r.Firepad.Line=r.Line,r.Firepad.TextOperation=r.TextOperation,r.Firepad.Headless=r.Headless,r.Firepad.RichTextCodeMirrorAdapter=r.RichTextCodeMirrorAdapter,r.Firepad.ACEAdapter=r.ACEAdapter,r.Firepad.MonacoAdapter=r.MonacoAdapter,r.Firepad},this);